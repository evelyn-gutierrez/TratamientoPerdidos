<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />

        <meta name="author" content="Evelyn Gutierrez" />
        <meta name="author" content="Vilma Romero" />
    
    
    <title>Tratamiento de valores perdidos con R</title>

        <script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
        <script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="site_libs/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
        <script src="site_libs/bootstrap-3.3.7/js/bootstrap.min.js"></script>
        <script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
        <script src="site_libs/navigation-1.1/tabsets.js"></script>
        <script src="site_libs/navigation-1.1/codefolding.js"></script>
        <script src="site_libs/navigation-1.1/FileSaver.min.js"></script>
        <script src="site_libs/navigation-1.1/sourceembed.js"></script>
        <link href="site_libs/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
        <script src="site_libs/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
        <link href="site_libs/robobook-0.1/robobook.css" rel="stylesheet" />
        <link href="site_libs/robobook-0.1/robobook_fonts_embed.css" rel="stylesheet" />
        <script src="site_libs/robobook-0.1/robobook.js"></script>
    
    
        <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          color: #aaaaaa;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span.al { color: #ff0000; font-weight: bold; } /* Alert */
      code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
      code span.at { color: #7d9029; } /* Attribute */
      code span.bn { color: #40a070; } /* BaseN */
      code span.bu { } /* BuiltIn */
      code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #4070a0; } /* Char */
      code span.cn { color: #880000; } /* Constant */
      code span.co { color: #60a0b0; font-style: italic; } /* Comment */
      code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
      code span.do { color: #ba2121; font-style: italic; } /* Documentation */
      code span.dt { color: #902000; } /* DataType */
      code span.dv { color: #40a070; } /* DecVal */
      code span.er { color: #ff0000; font-weight: bold; } /* Error */
      code span.ex { } /* Extension */
      code span.fl { color: #40a070; } /* Float */
      code span.fu { color: #06287e; } /* Function */
      code span.im { } /* Import */
      code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
      code span.kw { color: #007020; font-weight: bold; } /* Keyword */
      code span.op { color: #666666; } /* Operator */
      code span.ot { color: #007020; } /* Other */
      code span.pp { color: #bc7a00; } /* Preprocessor */
      code span.sc { color: #4070a0; } /* SpecialChar */
      code span.ss { color: #bb6688; } /* SpecialString */
      code span.st { color: #4070a0; } /* String */
      code span.va { color: #19177c; } /* Variable */
      code span.vs { color: #4070a0; } /* VerbatimString */
      code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    </style>
    
    
    <!-- tabsets -->
    <script>
      $(document).ready(function () {
	  window.buildTabsets("toc");
      });
      $(document).ready(function () {
	  $('.tabset-dropdown > .nav-tabs > li').click(function () {
	      $(this).parent().toggleClass('nav-tabs-open')
	  });
      });
    </script>

    <!-- code folding -->
        <script>
      $(document).ready(function () {
	  	  window.initializeSourceEmbed("index.Rmd");
	  	  	  window.initializeCodeFolding("show" === "show");
	        });
    </script>
    
    <!-- code download -->
        <style>
      #rmd-source-code {
	  display: none;
      }
    </style>
    
    <!-- tabsets dropdown -->

    <style type="text/css">
      .tabset-dropdown > .nav-tabs {
	  display: inline-table;
	  max-height: 500px;
	  min-height: 44px;
	  overflow-y: auto;
	  background: white;
	  border: 1px solid #ddd;
	  border-radius: 4px;
      }
      
      .tabset-dropdown > .nav-tabs > li.active:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
	  content: "&#xe258;";
	  border: none;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs > li.active {
	  display: block;
      }

      .tabset-dropdown > .nav-tabs > li.active a {
  	  padding: 0 15px !important;
      }

      .tabset-dropdown > .nav-tabs > li > a,
      .tabset-dropdown > .nav-tabs > li > a:focus,
      .tabset-dropdown > .nav-tabs > li > a:hover {
	  border: none;
	  display: inline-block;
	  border-radius: 4px;
	  background-color: transparent;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li {
	  display: block;
	  float: none;
      }
      
      .tabset-dropdown > .nav-tabs > li {
	  display: none;
	  margin-left: 0 !important;
      }
    </style>
    
</head>

<body class="preload">

   	
            <!-- robobook start -->   
   <div class="book with-summary">
      <div class="book-summary">
        <ul>
          <li class="title">Tratamiento de valores perdidos con R</li>
          <li class="divider"></li>
        </ul>
        <nav role="navigation" id="toc">
          <ul>
          <li><a href="#introducción."><span class="toc-section-number">1</span> Introducción.</a></li>
          <li><a href="#laboratorio-en-r."><span class="toc-section-number">2</span> Laboratorio en R.</a></li>
          <li><a href="#exploración-de-valores-perdidos."><span class="toc-section-number">3</span> Exploración de valores perdidos.</a>
          <ul>
          <li><a href="#exploración-básica."><span class="toc-section-number">3.1</span> Exploración básica.</a></li>
          <li><a href="#visualizaciones"><span class="toc-section-number">3.2</span> Visualizaciones</a></li>
          </ul></li>
          <li><a href="#imputación-univariada"><span class="toc-section-number">4</span> Imputación Univariada</a>
          <ul>
          <li><a href="#con-la-media."><span class="toc-section-number">4.1</span> Con la media.</a></li>
          <li><a href="#con-valor-aleatorio."><span class="toc-section-number">4.2</span> Con valor aleatorio.</a></li>
          <li><a href="#con-un-valor-específico."><span class="toc-section-number">4.3</span> Con un valor específico.</a></li>
          <li><a href="#manualmente"><span class="toc-section-number">4.4</span> Manualmente</a></li>
          </ul></li>
          <li><a href="#imputación-multivariada"><span class="toc-section-number">5</span> Imputación Multivariada</a>
          <ul>
          <li><a href="#por-regresión-lineal."><span class="toc-section-number">5.1</span> Por regresión lineal.</a></li>
          <li><a href="#por-k-vecinos-más-cercanos."><span class="toc-section-number">5.2</span> Por K vecinos más cercanos.</a></li>
          <li><a href="#por-bosques-aleatorios."><span class="toc-section-number">5.3</span> Por bosques aleatorios.</a></li>
          <li><a href="#mice"><span class="toc-section-number">5.4</span> MICE</a></li>
          </ul></li>
          <li><a href="#imputación-múltiple"><span class="toc-section-number">6</span> Imputación Múltiple</a>
          <ul>
          <li><a href="#mice-1"><span class="toc-section-number">6.1</span> MICE</a></li>
          <li><a href="#visualización."><span class="toc-section-number">6.2</span> Visualización.</a></li>
          </ul></li>
          <li><a href="#modelamiento"><span class="toc-section-number">7</span> Modelamiento</a>
          <ul>
          <li><a href="#casos-completos"><span class="toc-section-number">7.1</span> Casos completos</a></li>
          <li><a href="#imputación-simple."><span class="toc-section-number">7.2</span> Imputación simple.</a></li>
          <li><a href="#imputación-múltiple."><span class="toc-section-number">7.3</span> Imputación múltiple.</a></li>
          </ul></li>
          <li><a href="#ejercicio"><span class="toc-section-number">8</span> Ejercicio</a></li>
          <li><a href="#anexos"><span class="toc-section-number">9</span> Anexos</a></li>
          </ul>
        </nav>
        <ul class="authors">
          <li class="divider"></li>
                                <li><span><i class="glyphicon glyphicon-user"></i> Evelyn Gutierrez<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></span></li>
                                          <li><span><i class="glyphicon glyphicon-user"></i> Vilma Romero<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></span></li>
                                         <li><span><i class="glyphicon glyphicon-calendar"></i> September, 2021</span></li>
                  </ul>     
      </div>
      <div class="book-body fixed">
        <div class="body-inner">
            <a class="btn pull-left js-toolbar-action toggle-sidebar" aria-label="Toggle Sidebar" title="Toggle Sidebar" href="#">
              <span class="glyphicon glyphicon-menu-hamburger"></span>
            </a>
            <div class="page-inner">
              <section id="content" class="normal">
      
      <div class="btn-group pull-right">
     <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
     <ul class="dropdown-menu" style="min-width: 50px;">
	    	    <li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
	    <li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
	    	    <li role="separator" class="divider"></li>
	    	    	    	    <li><a id="rmd-download-source" href="#">Download Rmd</a></li>
	         </ul>
   </div>
   
        
      <h1 class="title">Tratamiento de valores perdidos con R</h1>
      
        

   
      
   
<!-- Don't indent these lines or it will mess pre blocks indentation --> 
<div id="introducción." class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Introducción.</h1>
<iframe src="files/3_Tratamiento de datos perdidos.pdf" width="768" height="600px">
</iframe>
</div>
<div id="laboratorio-en-r." class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Laboratorio en R.</h1>
<p>En esta sesión, realizaremos la imputación de datos perdidos utilizando técnicas básicas y por vecinos más cercanos.</p>
<p>Requerimos instalar los siguientes paquetes:</p>
<ul>
<li><code>Hmisc</code></li>
<li><code>VIM</code></li>
<li><code>mice</code></li>
<li><code>DMwR</code></li>
</ul>
<p>Para <code>DMwR</code>, utilizar: <code>remotes::install_github("cran/DMwR")</code></p>
</div>
<div id="exploración-de-valores-perdidos." class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Exploración de valores perdidos.</h1>
<p><br></p>
<div id="exploración-básica." class="section level2" number="3.1">
<h2 number="3.1"><span class="header-section-number">3.1</span> Exploración básica.</h2>
<p><strong>Caso 1: Notas.</strong></p>
<p>Iniciamos este ejemplo, creando un data.frame notas con alguna nota faltante.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>notas <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">nombre =</span> <span class="fu">c</span>(<span class="st">&quot;Jesus&quot;</span>, <span class="st">&quot;Carla&quot;</span>, <span class="st">&quot;Rodrigo&quot;</span>, <span class="st">&quot;Javier&quot;</span>),</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">nota =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">13</span>, <span class="cn">NA</span>))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>notas</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">nombre</th>
<th align="right">nota</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Jesus</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Carla</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left">Rodrigo</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">Javier</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
<p>Exploramos visualmente el número de valores perdidos por variable: solo existe un valor aleatorio.</p>
<p>Finalmente, seleccionar los datos completos con <code>complete.cases</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>notas_comp <span class="ot">&lt;-</span> notas[<span class="fu">complete.cases</span>(notas),]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>notas_comp</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">nombre</th>
<th align="right">nota</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Jesus</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Carla</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left">Rodrigo</td>
<td align="right">13</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
</div>
<div id="visualizaciones" class="section level2" number="3.2">
<h2 number="3.2"><span class="header-section-number">3.2</span> Visualizaciones</h2>
<p><strong>Caso 2: Dataset sleep</strong></p>
<p>Utilizaremos el conjunto de datos <em>sleep</em> del paquete VIM para realizar la exploración de valores perdidos en R.</p>
<ul>
<li>Instalación:</li>
</ul>
<p>Necesitamos instalar el paquete VIM con el siguiente código en la consola: <code>install.packages("VIM")</code>.</p>
<p>Luego, cargamos los datos de <code>sleep</code> y vemos las primeras filas del dataset utilizando el siguiente código:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga los datos.</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(sleep, <span class="at">package =</span> <span class="st">&quot;VIM&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Vemos las 6 primeras filas.</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sleep)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">BodyWgt</th>
<th align="right">BrainWgt</th>
<th align="right">NonD</th>
<th align="right">Dream</th>
<th align="right">Sleep</th>
<th align="right">Span</th>
<th align="right">Gest</th>
<th align="right">Pred</th>
<th align="right">Exp</th>
<th align="right">Danger</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">6654.000</td>
<td align="right">5712.0</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">3.3</td>
<td align="right">38.6</td>
<td align="right">645</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">1.000</td>
<td align="right">6.6</td>
<td align="right">6.3</td>
<td align="right">2.0</td>
<td align="right">8.3</td>
<td align="right">4.5</td>
<td align="right">42</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">3.385</td>
<td align="right">44.5</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">12.5</td>
<td align="right">14.0</td>
<td align="right">60</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">0.920</td>
<td align="right">5.7</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">16.5</td>
<td align="right">NA</td>
<td align="right">25</td>
<td align="right">5</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">2547.000</td>
<td align="right">4603.0</td>
<td align="right">2.1</td>
<td align="right">1.8</td>
<td align="right">3.9</td>
<td align="right">69.0</td>
<td align="right">624</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">10.550</td>
<td align="right">179.5</td>
<td align="right">9.1</td>
<td align="right">0.7</td>
<td align="right">9.8</td>
<td align="right">27.0</td>
<td align="right">180</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
</div>
<p>Comprobaremos que el dataset “sleep” ahora aparece también en su <strong>Environment</strong> en RStudio.</p>
<p>Iniciamos la <strong>exploración inicial</strong> de este nuevo dataset con alguno de los siguientes comandos básicos:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sleep)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    62 obs. of  10 variables:
##  $ BodyWgt : num  6654 1 3.38 0.92 2547 ...
##  $ BrainWgt: num  5712 6.6 44.5 5.7 4603 ...
##  $ NonD    : num  NA 6.3 NA NA 2.1 9.1 15.8 5.2 10.9 8.3 ...
##  $ Dream   : num  NA 2 NA NA 1.8 0.7 3.9 1 3.6 1.4 ...
##  $ Sleep   : num  3.3 8.3 12.5 16.5 3.9 9.8 19.7 6.2 14.5 9.7 ...
##  $ Span    : num  38.6 4.5 14 NA 69 27 19 30.4 28 50 ...
##  $ Gest    : num  645 42 60 25 624 180 35 392 63 230 ...
##  $ Pred    : int  3 3 1 5 3 4 1 4 1 1 ...
##  $ Exp     : int  5 1 1 2 5 4 1 5 2 1 ...
##  $ Danger  : int  3 3 1 3 4 4 1 4 1 1 ...</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(sleep)</span></code></pre></div>
<pre><code>## Rows: 62
## Columns: 10
## $ BodyWgt  &lt;dbl&gt; 6654.000, 1.000, 3.385, 0.920, 2547.000, 10.550, 0.023, 160.0~
## $ BrainWgt &lt;dbl&gt; 5712.0, 6.6, 44.5, 5.7, 4603.0, 179.5, 0.3, 169.0, 25.6, 440.~
## $ NonD     &lt;dbl&gt; NA, 6.3, NA, NA, 2.1, 9.1, 15.8, 5.2, 10.9, 8.3, 11.0, 3.2, 7~
## $ Dream    &lt;dbl&gt; NA, 2.0, NA, NA, 1.8, 0.7, 3.9, 1.0, 3.6, 1.4, 1.5, 0.7, 2.7,~
## $ Sleep    &lt;dbl&gt; 3.3, 8.3, 12.5, 16.5, 3.9, 9.8, 19.7, 6.2, 14.5, 9.7, 12.5, 3~
## $ Span     &lt;dbl&gt; 38.6, 4.5, 14.0, NA, 69.0, 27.0, 19.0, 30.4, 28.0, 50.0, 7.0,~
## $ Gest     &lt;dbl&gt; 645, 42, 60, 25, 624, 180, 35, 392, 63, 230, 112, 281, NA, 36~
## $ Pred     &lt;int&gt; 3, 3, 1, 5, 3, 4, 1, 4, 1, 1, 5, 5, 2, 5, 1, 2, 2, 2, 1, 1, 5~
## $ Exp      &lt;int&gt; 5, 1, 1, 2, 5, 4, 1, 5, 2, 1, 4, 5, 1, 5, 1, 2, 2, 2, 2, 1, 5~
## $ Danger   &lt;int&gt; 3, 3, 1, 3, 4, 4, 1, 4, 1, 1, 4, 5, 2, 5, 1, 2, 2, 2, 1, 1, 5~</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sleep)</span></code></pre></div>
<pre><code>##     BodyWgt            BrainWgt            NonD            Dream      
##  Min.   :   0.005   Min.   :   0.14   Min.   : 2.100   Min.   :0.000  
##  1st Qu.:   0.600   1st Qu.:   4.25   1st Qu.: 6.250   1st Qu.:0.900  
##  Median :   3.342   Median :  17.25   Median : 8.350   Median :1.800  
##  Mean   : 198.790   Mean   : 283.13   Mean   : 8.673   Mean   :1.972  
##  3rd Qu.:  48.202   3rd Qu.: 166.00   3rd Qu.:11.000   3rd Qu.:2.550  
##  Max.   :6654.000   Max.   :5712.00   Max.   :17.900   Max.   :6.600  
##                                       NA&#39;s   :14       NA&#39;s   :12     
##      Sleep            Span              Gest             Pred      
##  Min.   : 2.60   Min.   :  2.000   Min.   : 12.00   Min.   :1.000  
##  1st Qu.: 8.05   1st Qu.:  6.625   1st Qu.: 35.75   1st Qu.:2.000  
##  Median :10.45   Median : 15.100   Median : 79.00   Median :3.000  
##  Mean   :10.53   Mean   : 19.878   Mean   :142.35   Mean   :2.871  
##  3rd Qu.:13.20   3rd Qu.: 27.750   3rd Qu.:207.50   3rd Qu.:4.000  
##  Max.   :19.90   Max.   :100.000   Max.   :645.00   Max.   :5.000  
##  NA&#39;s   :4       NA&#39;s   :4         NA&#39;s   :4                       
##       Exp            Danger     
##  Min.   :1.000   Min.   :1.000  
##  1st Qu.:1.000   1st Qu.:1.000  
##  Median :2.000   Median :2.000  
##  Mean   :2.419   Mean   :2.613  
##  3rd Qu.:4.000   3rd Qu.:4.000  
##  Max.   :5.000   Max.   :5.000  
## </code></pre>
<p>En todos ellos observaremos una primera vista de los datos. Notaremos además, que existen valores NA, datos perdidos. La primera pregunta que nos hacemos es:</p>
<blockquote>
<p>¿Cuántos datos están con valores NA en este dataset?</p>
</blockquote>
<p>Para contar el número de valores perdidos por variable podemos usar este cálculo con la función <em>apply</em> que cuenta el número de valores perdidos (valores NA para R) por columna.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(sleep, <span class="dv">2</span>, <span class="cf">function</span>(x){<span class="fu">sum</span>(<span class="fu">is.na</span>(x))})</span></code></pre></div>
<pre><code>##  BodyWgt BrainWgt     NonD    Dream    Sleep     Span     Gest     Pred 
##        0        0       14       12        4        4        4        0 
##      Exp   Danger 
##        0        0</code></pre>
<p>Ahora podemos responder lo siguiente 👩‍🏫:</p>
<ul>
<li>¿Cuántos valores perdidos hay en cada variable?</li>
<li>¿Qué variables tienen valores perdidos?</li>
<li>¿Qué variables tienen más valores perdidos? 🤚</li>
</ul>
<p><br></p>
<p>Continuamos explorando los valores perdidos analizando el <strong>patrón de valores perdidos</strong> distribuidos <strong>en las diferentes variables</strong> del conjunto de datos (dataset). Esto nos ayudará a entender mejor nuestros datos.</p>
<p>Lo hacemos utilizando la función <em>md.pattern</em> y <em>md.pairs</em> del paquete <strong>MICE</strong>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>mice<span class="sc">::</span><span class="fu">md.pattern</span>(sleep, <span class="at">rotate.names=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="80%" /></p>
<pre><code>##    BodyWgt BrainWgt Pred Exp Danger Sleep Span Gest Dream NonD   
## 42       1        1    1   1      1     1    1    1     1    1  0
## 9        1        1    1   1      1     1    1    1     0    0  2
## 3        1        1    1   1      1     1    1    0     1    1  1
## 2        1        1    1   1      1     1    0    1     1    1  1
## 1        1        1    1   1      1     1    0    1     0    0  3
## 1        1        1    1   1      1     1    0    0     1    1  2
## 2        1        1    1   1      1     0    1    1     1    0  2
## 2        1        1    1   1      1     0    1    1     0    0  3
##          0        0    0   0      0     4    4    4    12   14 38</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>mice<span class="sc">::</span><span class="fu">md.pairs</span>(sleep)</span></code></pre></div>
<pre><code>## $rr
##          BodyWgt BrainWgt NonD Dream Sleep Span Gest Pred Exp Danger
## BodyWgt       62       62   48    50    58   58   58   62  62     62
## BrainWgt      62       62   48    50    58   58   58   62  62     62
## NonD          48       48   48    48    48   45   44   48  48     48
## Dream         50       50   48    50    48   47   46   50  50     50
## Sleep         58       58   48    48    58   54   54   58  58     58
## Span          58       58   45    47    54   58   55   58  58     58
## Gest          58       58   44    46    54   55   58   58  58     58
## Pred          62       62   48    50    58   58   58   62  62     62
## Exp           62       62   48    50    58   58   58   62  62     62
## Danger        62       62   48    50    58   58   58   62  62     62
## 
## $rm
##          BodyWgt BrainWgt NonD Dream Sleep Span Gest Pred Exp Danger
## BodyWgt        0        0   14    12     4    4    4    0   0      0
## BrainWgt       0        0   14    12     4    4    4    0   0      0
## NonD           0        0    0     0     0    3    4    0   0      0
## Dream          0        0    2     0     2    3    4    0   0      0
## Sleep          0        0   10    10     0    4    4    0   0      0
## Span           0        0   13    11     4    0    3    0   0      0
## Gest           0        0   14    12     4    3    0    0   0      0
## Pred           0        0   14    12     4    4    4    0   0      0
## Exp            0        0   14    12     4    4    4    0   0      0
## Danger         0        0   14    12     4    4    4    0   0      0
## 
## $mr
##          BodyWgt BrainWgt NonD Dream Sleep Span Gest Pred Exp Danger
## BodyWgt        0        0    0     0     0    0    0    0   0      0
## BrainWgt       0        0    0     0     0    0    0    0   0      0
## NonD          14       14    0     2    10   13   14   14  14     14
## Dream         12       12    0     0    10   11   12   12  12     12
## Sleep          4        4    0     2     0    4    4    4   4      4
## Span           4        4    3     3     4    0    3    4   4      4
## Gest           4        4    4     4     4    3    0    4   4      4
## Pred           0        0    0     0     0    0    0    0   0      0
## Exp            0        0    0     0     0    0    0    0   0      0
## Danger         0        0    0     0     0    0    0    0   0      0
## 
## $mm
##          BodyWgt BrainWgt NonD Dream Sleep Span Gest Pred Exp Danger
## BodyWgt        0        0    0     0     0    0    0    0   0      0
## BrainWgt       0        0    0     0     0    0    0    0   0      0
## NonD           0        0   14    12     4    1    0    0   0      0
## Dream          0        0   12    12     2    1    0    0   0      0
## Sleep          0        0    4     2     4    0    0    0   0      0
## Span           0        0    1     1     0    4    1    0   0      0
## Gest           0        0    0     0     0    1    4    0   0      0
## Pred           0        0    0     0     0    0    0    0   0      0
## Exp            0        0    0     0     0    0    0    0   0      0
## Danger         0        0    0     0     0    0    0    0   0      0</code></pre>
<p>En estos gráficos y tablas observamos las diferentes combinaciones de valores perdidos que tenemos para nuestras variables. Ahora, podemos responder las siguiente preguntas:</p>
<ul>
<li>¿Cuantas observaciones no tienen nigún valor perdido?</li>
<li>¿Cuantas observaciones no tienen nigún valor perdido?</li>
</ul>
<p>Visualización de datos perdidos</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sleep_aggr <span class="ot">&lt;-</span> VIM<span class="sc">::</span><span class="fu">aggr</span>(sleep, <span class="at">col =</span> mice<span class="sc">::</span><span class="fu">mdc</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>), <span class="at">numbers =</span> <span class="cn">TRUE</span>, </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">sortVars =</span> <span class="cn">TRUE</span>, <span class="at">labels =</span> <span class="fu">names</span>(sleep),</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">cex.axis=</span> <span class="fl">0.7</span>, <span class="at">gap =</span> <span class="dv">3</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ylab =</span> <span class="fu">c</span>(<span class="st">&quot;Proporción de Pérdida&quot;</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">&quot;Patrón de Pérdida&quot;</span>))</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="768" /></p>
<pre><code>## 
##  Variables sorted by number of missings: 
##  Variable      Count
##      NonD 0.22580645
##     Dream 0.19354839
##     Sleep 0.06451613
##      Span 0.06451613
##      Gest 0.06451613
##   BodyWgt 0.00000000
##  BrainWgt 0.00000000
##      Pred 0.00000000
##       Exp 0.00000000
##    Danger 0.00000000</code></pre>
<p>Distribución de observaciones completas e incompletas por pares de variables</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>VIM<span class="sc">::</span><span class="fu">marginplot</span>(sleep[ , <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">7</span>)], <span class="at">pch =</span> <span class="dv">19</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="768" /></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>VIM<span class="sc">::</span><span class="fu">marginplot</span>(sleep[ , <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">7</span>)], <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>), <span class="at">pch =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-9-2.png" width="768" /></p>
<p>Descripción:</p>
<ul>
<li><p>Puntos azules (diagrama de dispersión): individuos con ambos valores de las variables.</p></li>
<li><p>Boxplots azules: boxplots de los valores no perdidos de cada variable</p></li>
<li><p>Puntos rojos (Eje X: NonD): individuos con valores perdidos en Gest pero observados en NonD.</p></li>
<li><p>Puntos rojos (Eje Y: Gest): individuos con valores perdidos en NonD pero observados en Gest.</p></li>
<li><p>Boxplots rojos: Representan la distribución marginal de los puntos rojos.</p></li>
</ul>
<p>Nota: Si los datos perdidos son completamente aleatorios se espera que los boxplots rojos y azules sean idénticos</p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="imputación-univariada" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Imputación Univariada</h1>
<div id="con-la-media." class="section level2" number="4.1">
<h2 number="4.1"><span class="header-section-number">4.1</span> Con la media.</h2>
<p>instalamos la librería <code>Hmisc</code> para realizar imputaciones básicas. La instalación, la realizaremos utilizando el siguiente comando en la consola: <code>install.packages("Hmisc")</code>.</p>
<p>Luego de completada la instalación, comprobamos cargando el paquete.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span></code></pre></div>
<p>Si no tenemos mayor información, utilizaremos la media como valor de imputación. Es una imputación rápida, simple y sencilla.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(notas, <span class="fu">impute</span>(nota, mean))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>notas</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">nombre</th>
<th align="right">nota</th>
<th align="right">nota_imp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Jesus</td>
<td align="right">12</td>
<td align="right">12.00000</td>
</tr>
<tr class="even">
<td align="left">Carla</td>
<td align="right">15</td>
<td align="right">15.00000</td>
</tr>
<tr class="odd">
<td align="left">Rodrigo</td>
<td align="right">13</td>
<td align="right">13.00000</td>
</tr>
<tr class="even">
<td align="left">Javier</td>
<td align="right">NA</td>
<td align="right">13.33333</td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div id="con-valor-aleatorio." class="section level2" number="4.2">
<h2 number="4.2"><span class="header-section-number">4.2</span> Con valor aleatorio.</h2>
<p>Utilizamos un valor aleatorio como valor de imputación: Se selecciona aleatoriamente a partir de los valores no perdidos. Simple y útil en caso de MCAR.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(notas, <span class="fu">impute</span>(nota, <span class="st">&#39;random&#39;</span>))</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>notas</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">nombre</th>
<th align="right">nota</th>
<th align="right">nota_imp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Jesus</td>
<td align="right">12</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Carla</td>
<td align="right">15</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left">Rodrigo</td>
<td align="right">13</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">Javier</td>
<td align="right">NA</td>
<td align="right">15</td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div id="con-un-valor-específico." class="section level2" number="4.3">
<h2 number="4.3"><span class="header-section-number">4.3</span> Con un valor específico.</h2>
<p>Si tenemos información específica, o resulta conveniente, podemos imputar los datos perdidos con un valor específico.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(notas, <span class="fu">impute</span>(nota, <span class="dv">99</span>))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>notas</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">nombre</th>
<th align="right">nota</th>
<th align="right">nota_imp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Jesus</td>
<td align="right">12</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Carla</td>
<td align="right">15</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left">Rodrigo</td>
<td align="right">13</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">Javier</td>
<td align="right">NA</td>
<td align="right">99</td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div id="manualmente" class="section level2" number="4.4">
<h2 number="4.4"><span class="header-section-number">4.4</span> Manualmente</h2>
<p>Por ultimo, la imputación puede realizarse sin el paquete Hmisc de la siguiente manera:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota[<span class="fu">is.na</span>(notas<span class="sc">$</span>nota)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(notas<span class="sc">$</span>nota, <span class="at">na.rm =</span> T)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>notas</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">nombre</th>
<th align="right">nota</th>
<th align="right">nota_imp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Jesus</td>
<td align="right">12.00000</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">Carla</td>
<td align="right">15.00000</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left">Rodrigo</td>
<td align="right">13.00000</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">Javier</td>
<td align="right">13.33333</td>
<td align="right">99</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
</div>
</div>
<div id="imputación-multivariada" class="section level1" number="5">
<h1 number="5"><span class="header-section-number">5</span> Imputación Multivariada</h1>
<div id="por-regresión-lineal." class="section level2" number="5.1">
<h2 number="5.1"><span class="header-section-number">5.1</span> Por regresión lineal.</h2>
<p>Con la librería mice. Esta librería sirve para imputación múltiple pero podemos usarla también para imputación simple si definimos <em>m=1</em>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice) </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>imp <span class="ot">&lt;-</span> <span class="fu">mice</span>(sleep, <span class="at">method =</span> <span class="st">&quot;norm.predict&quot;</span>, <span class="at">m =</span> <span class="dv">1</span>, <span class="at">maxit=</span><span class="dv">1</span>) <span class="co"># Impute data</span></span></code></pre></div>
<pre><code>## 
##  iter imp variable
##   1   1  NonD  Dream  Sleep  Span  Gest</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>imp_reg <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp)</span></code></pre></div>
<p>Para missings en variables categorícas se puede utilizar regresión logistica con el argumento <code>method="logreg"</code>. Ejemplo: <code>mice(nhanes2, meth = c("sample", "norm.predict", "logreg", "norm.predict"))</code></p>
<p>Para ver otros métodos, podemos ver la documentación de la función mice escribiendo <code>?mice::mice</code> en la consola.</p>
<p><br></p>
</div>
<div id="por-k-vecinos-más-cercanos." class="section level2" number="5.2">
<h2 number="5.2"><span class="header-section-number">5.2</span> Por K vecinos más cercanos.</h2>
<p>Aplicamos vecions más cercanos y guardamos los resultados en sleep_imp</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DMwR)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>sleep_imp <span class="ot">&lt;-</span> DMwR<span class="sc">::</span><span class="fu">knnImputation</span>(sleep)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co">#View(sleep_imp)</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sleep_imp)</span></code></pre></div>
<pre><code>##     BodyWgt            BrainWgt            NonD            Dream      
##  Min.   :   0.005   Min.   :   0.14   Min.   : 2.100   Min.   :0.000  
##  1st Qu.:   0.600   1st Qu.:   4.25   1st Qu.: 5.800   1st Qu.:0.925  
##  Median :   3.342   Median :  17.25   Median : 8.350   Median :1.800  
##  Mean   : 198.790   Mean   : 283.13   Mean   : 8.489   Mean   :1.976  
##  3rd Qu.:  48.202   3rd Qu.: 166.00   3rd Qu.:10.757   3rd Qu.:2.567  
##  Max.   :6654.000   Max.   :5712.00   Max.   :17.900   Max.   :6.600  
##      Sleep            Span              Gest             Pred      
##  Min.   : 2.60   Min.   :  2.000   Min.   : 12.00   Min.   :1.000  
##  1st Qu.: 6.95   1st Qu.:  6.125   1st Qu.: 35.75   1st Qu.:2.000  
##  Median :10.30   Median : 13.350   Median : 65.68   Median :3.000  
##  Mean   :10.43   Mean   : 19.133   Mean   :138.65   Mean   :2.871  
##  3rd Qu.:13.20   3rd Qu.: 27.000   3rd Qu.:196.80   3rd Qu.:4.000  
##  Max.   :19.90   Max.   :100.000   Max.   :645.00   Max.   :5.000  
##       Exp            Danger     
##  Min.   :1.000   Min.   :1.000  
##  1st Qu.:1.000   1st Qu.:1.000  
##  Median :2.000   Median :2.000  
##  Mean   :2.419   Mean   :2.613  
##  3rd Qu.:4.000   3rd Qu.:4.000  
##  Max.   :5.000   Max.   :5.000</code></pre>
<p>¿Hay datos perdidos ahora?</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(sleep_imp, <span class="dv">2</span>, <span class="cf">function</span>(x){<span class="fu">sum</span>(<span class="fu">is.na</span>(x))})</span></code></pre></div>
<pre><code>##  BodyWgt BrainWgt     NonD    Dream    Sleep     Span     Gest     Pred 
##        0        0        0        0        0        0        0        0 
##      Exp   Danger 
##        0        0</code></pre>
</div>
<div id="por-bosques-aleatorios." class="section level2" number="5.3">
<h2 number="5.3"><span class="header-section-number">5.3</span> Por bosques aleatorios.</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(missForest)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>sleep_imp_rf <span class="ot">&lt;-</span> <span class="fu">missForest</span>(sleep)</span></code></pre></div>
<pre><code>##   missForest iteration 1 in progress...done!
##   missForest iteration 2 in progress...done!
##   missForest iteration 3 in progress...done!</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(sleep_imp<span class="sc">$</span>NonD, <span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>##  [1]  2.28  6.30 10.28 10.63  2.10  9.10 15.80  5.20 10.90  8.30 11.00  3.20
## [13]  7.60  4.20  6.30  8.60  6.60  9.50  4.80 12.00  4.97  3.30 11.00  8.17
## [25]  4.70 10.54 10.40  7.40  2.10  9.21  7.65  7.70 17.90  6.10  8.20  8.40
## [37] 11.90 10.80 13.80 14.30  5.25 15.20 10.00 11.90  6.50  7.50 10.50 10.60
## [49]  7.40  8.40  5.70  4.90  4.60  3.20  9.66  8.10 11.00  4.90 13.20  9.70
## [61] 12.80 12.04</code></pre>
</div>
<div id="mice" class="section level2" number="5.4">
<h2 number="5.4"><span class="header-section-number">5.4</span> MICE</h2>
<blockquote>
<p>MICE: <em>Multivariate Imputation by Chained Equations</em></p>
</blockquote>
<p>Utilizaremos la metodología MICE: Multivariate Imputation by Chained Equations para realizar imputación multivariada.</p>
<p>La imputación con MICE puede ser simple o múltiple. Simple si solo se imputa el dataset inicial; y múltiple cuando se crean multiples datasets con diferentes imputaciones.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(VIM)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span></code></pre></div>
</div>
</div>
<div id="imputación-múltiple" class="section level1" number="6">
<h1 number="6"><span class="header-section-number">6</span> Imputación Múltiple</h1>
<div id="mice-1" class="section level2" number="6.1">
<h2 number="6.1"><span class="header-section-number">6.1</span> MICE</h2>
<p>Utilizamos el paquete MICE: Imputación Multivariada por Chained Equations para realizar la imputación múltiple.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span></code></pre></div>
<p>La imputación se realiza con estas líneas de código:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>imp1 <span class="ot">&lt;-</span> <span class="fu">mice</span>(sleep, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">seed =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## 
##  iter imp variable
##   1   1  NonD  Dream  Sleep  Span  Gest
##   1   2  NonD  Dream  Sleep  Span  Gest
##   1   3  NonD  Dream  Sleep  Span  Gest
##   1   4  NonD  Dream  Sleep  Span  Gest
##   1   5  NonD  Dream  Sleep  Span  Gest
##   2   1  NonD  Dream  Sleep  Span  Gest
##   2   2  NonD  Dream  Sleep  Span  Gest
##   2   3  NonD  Dream  Sleep  Span  Gest
##   2   4  NonD  Dream  Sleep  Span  Gest
##   2   5  NonD  Dream  Sleep  Span  Gest
##   3   1  NonD  Dream  Sleep  Span  Gest
##   3   2  NonD  Dream  Sleep  Span  Gest
##   3   3  NonD  Dream  Sleep  Span  Gest
##   3   4  NonD  Dream  Sleep  Span  Gest
##   3   5  NonD  Dream  Sleep  Span  Gest
##   4   1  NonD  Dream  Sleep  Span  Gest
##   4   2  NonD  Dream  Sleep  Span  Gest
##   4   3  NonD  Dream  Sleep  Span  Gest
##   4   4  NonD  Dream  Sleep  Span  Gest
##   4   5  NonD  Dream  Sleep  Span  Gest
##   5   1  NonD  Dream  Sleep  Span  Gest
##   5   2  NonD  Dream  Sleep  Span  Gest
##   5   3  NonD  Dream  Sleep  Span  Gest
##   5   4  NonD  Dream  Sleep  Span  Gest
##   5   5  NonD  Dream  Sleep  Span  Gest</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>imp1</span></code></pre></div>
<pre><code>## Class: mids
## Number of multiple imputations:  5 
## Imputation methods:
##  BodyWgt BrainWgt     NonD    Dream    Sleep     Span     Gest     Pred 
##       &quot;&quot;       &quot;&quot;    &quot;pmm&quot;    &quot;pmm&quot;    &quot;pmm&quot;    &quot;pmm&quot;    &quot;pmm&quot;       &quot;&quot; 
##      Exp   Danger 
##       &quot;&quot;       &quot;&quot; 
## PredictorMatrix:
##          BodyWgt BrainWgt NonD Dream Sleep Span Gest Pred Exp Danger
## BodyWgt        0        1    1     1     1    1    1    1   1      1
## BrainWgt       1        0    1     1     1    1    1    1   1      1
## NonD           1        1    0     1     1    1    1    1   1      1
## Dream          1        1    1     0     1    1    1    1   1      1
## Sleep          1        1    1     1     0    1    1    1   1      1
## Span           1        1    1     1     1    0    1    1   1      1
## Number of logged events:  11 
##   it im  dep meth   out
## 1  1  5 Span  pmm Sleep
## 2  1  5 Gest  pmm Sleep
## 3  3  2 Span  pmm Sleep
## 4  3  5 Span  pmm Sleep
## 5  3  5 Gest  pmm Sleep
## 6  4  1 Span  pmm Sleep</code></pre>
<p>El argumento m=5 indica que se crearan 5 datasets de imputaciones.</p>
<p>Verificamos el métodos de imputación utilizado:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>imp1<span class="sc">$</span>method</span></code></pre></div>
<pre><code>##  BodyWgt BrainWgt     NonD    Dream    Sleep     Span     Gest     Pred 
##       &quot;&quot;       &quot;&quot;    &quot;pmm&quot;    &quot;pmm&quot;    &quot;pmm&quot;    &quot;pmm&quot;    &quot;pmm&quot;       &quot;&quot; 
##      Exp   Danger 
##       &quot;&quot;       &quot;&quot;</code></pre>
<p>Como vemos, se usó el método pmm (Predictive mean matching): Un método de imputación semi-parámetrico usado por defecto para variables continuas. - Selecciona un grupo de candidatos vecinos similares y cercanos, y toma uno aleatoriamente como donador.</p>
<ul>
<li>Para revisar todas la metodologías que tiene, se puede ver el <a href="https://www.researchgate.net/publication/44203418_MICE_Multivariate_Imputation_by_Chained_Equations_in_R">artículo donde se presenta MICE</a>.</li>
</ul>
<p><br></p>
<p>Imputaciones para una variable en particular. Veamos el objeto <strong>imp1</strong>, que tiene una lista de imputados <strong>imp</strong> con un set de imputados para la columna NonD</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(imp1<span class="sc">$</span>imp<span class="sc">$</span>NonD)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">1</th>
<th align="right">2</th>
<th align="right">3</th>
<th align="right">4</th>
<th align="right">5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="right">3.2</td>
<td align="right">3.3</td>
<td align="right">2.1</td>
<td align="right">2.1</td>
<td align="right">3.2</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">10.0</td>
<td align="right">12.0</td>
<td align="right">10.8</td>
<td align="right">11.9</td>
<td align="right">11.0</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">11.0</td>
<td align="right">10.4</td>
<td align="right">12.8</td>
<td align="right">17.9</td>
<td align="right">13.2</td>
</tr>
<tr class="even">
<td align="left">14</td>
<td align="right">2.1</td>
<td align="right">3.2</td>
<td align="right">3.2</td>
<td align="right">2.1</td>
<td align="right">3.2</td>
</tr>
<tr class="odd">
<td align="left">21</td>
<td align="right">12.8</td>
<td align="right">11.9</td>
<td align="right">7.6</td>
<td align="right">4.7</td>
<td align="right">8.2</td>
</tr>
<tr class="even">
<td align="left">24</td>
<td align="right">8.4</td>
<td align="right">11.0</td>
<td align="right">11.0</td>
<td align="right">11.0</td>
<td align="right">10.0</td>
</tr>
</tbody>
</table>
</div>
<p>Notemos que cada columna representa a un set de valores imputados para una variable.</p>
</div>
<div id="visualización." class="section level2" number="6.2">
<h2 number="6.2"><span class="header-section-number">6.2</span> Visualización.</h2>
<p>Estos gráficos nos servirán para revisar si las imputaciones realizadas son muy variables entre diferentes datasets.</p>
<ul>
<li><p>El primer gráfico muestra los valores perdidos para la variable en el eje Y: <strong>Gest</strong>.</p></li>
<li><p>Se muestran 6 cuadros correspondientes a</p>
<ul>
<li>La data original y</li>
<li>Los 5 dataset construidos con la imputación multiple.</li>
</ul></li>
<li><p>En <strong>rojo</strong> están las observaciones imputadas para la variable Gest (variable del eje Y); y en <strong>azul</strong>, todas las demás observaciones.</p></li>
<li><p>Los puntos azules son los datos observados y además imputaciones realizadas en la variable <strong>NonD</strong> (variable del eje X).</p></li>
</ul>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lattice)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, Gest <span class="sc">~</span> NonD <span class="sc">|</span> .imp, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">cex =</span> <span class="fl">1.4</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-27-1.png" width="768" /></p>
<p><br></p>
<ul>
<li><p>En el siguiente gráfico observamos el mismo tipo de diagrama. Esta vez <strong>enfocado</strong> en el análisis de otra variable: <strong>NonD</strong> (Note la diferencia en la formula utilizada <em>NonD ~ Gest</em>).</p></li>
<li><p>A partir de los <strong>puntos rosados</strong> en los diferentes cuadros, se observan las variaciones en las imputaciones para <strong>NonD</strong> en los diferentes datasets contruídos durante la imputación múltiple.</p></li>
<li><p>Notemos a partir de estos gráficos que se están imputando valores fuera de la nube de puntos creada entre estas dos variables. Aunque podría suceder.</p></li>
</ul>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, NonD <span class="sc">~</span> Gest <span class="sc">|</span> .imp, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">cex =</span> <span class="fl">1.4</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-28-1.png" width="768" /></p>
<p><br></p>
<p>Finalmente, para observar los datos de las 5 imputaciones en un solo gráfico, tenemos el siguiente código.</p>
<p><strong>Para la variable Gest</strong></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, Gest <span class="sc">~</span> NonD, <span class="at">pch =</span> <span class="dv">18</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-29-1.png" width="70%" /></p>
<p><strong>Para la variable NonD</strong></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, NonD <span class="sc">~</span> Gest, <span class="at">pch =</span> <span class="dv">18</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-30-1.png" width="70%" /></p>
<p><br></p>
<p>Ademas, si queremos incluir una tercera variable al análisis podemos observarla cambiando la formula como el siguiente código.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, Gest <span class="sc">~</span> NonD <span class="sc">+</span> Span , <span class="at">pch =</span> <span class="dv">18</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-31-1.png" width="90%" /></p>
<ul>
<li><p>Veremos la relación de la variable Gest con Span además de con NonD.</p></li>
<li><p>Los <strong>puntos rosados</strong> son los valores imputados.</p></li>
</ul>
<p><br></p>
<p>Finalmente, utilizaremos un gráfico para la densidad de las observaciones imputadas en cada dataset.</p>
<ul>
<li><p>Esto nos mostrará si las diferentes imputaciones están concentradas en los mismos valores o si cambian entre diferentes datasets.</p></li>
<li><p>Cada densidad está representada en líneas de color rosado y representan la densidad para las imputaciones en uno de los 5 datasets de la imputación múltiple.</p></li>
<li><p>La densidad en color celeste representa la densidad de los valores observados.</p></li>
</ul>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">densityplot</span>(imp1)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-32-1.png" width="768" /></p>
<ul>
<li><p>Este gráfico compara la <strong>densidad de los datos observados versus la densidad de los datos imputados</strong>. Se espera que las líneas sean similares pero no idénticos.</p></li>
<li><p>Encontrar diferencias entre las diferentes imputaciones indica que las <strong>imputaciones varían</strong> entre diferentes datasets.</p></li>
</ul>
<p><br></p>
<p><strong>Streeplot</strong></p>
<ul>
<li><p>El último gráfico llamado <strong>stripplot</strong> muestra la distribución de cada variable y sus valores imputados en los multiples datasets.</p></li>
<li><p>Es <strong>otra forma</strong> de ver la <strong>distribución de los imputados</strong> en las diferentes muestras.</p></li>
</ul>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stripplot</span>(imp1, <span class="at">pch =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-33-1.png" width="768" /></p>
</div>
</div>
<div id="modelamiento" class="section level1" number="7">
<h1 number="7"><span class="header-section-number">7</span> Modelamiento</h1>
<div id="casos-completos" class="section level2" number="7.1">
<h2 number="7.1"><span class="header-section-number">7.1</span> Casos completos</h2>
<p>El caso más simple y rápido será utilizando solo los datos completos. En este caso, omitimos las fila con valores perdidos y construimos nuestro modelo.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>ajuste_cc <span class="ot">&lt;-</span> <span class="fu">lm</span>(BodyWgt <span class="sc">~</span> Sleep <span class="sc">+</span> BrainWgt, </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> <span class="fu">na.omit</span>(sleep))</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_cc)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = BodyWgt ~ Sleep + BrainWgt, data = na.omit(sleep))
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -616.89   -4.08   11.32   21.49  244.51 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  8.22805   51.15597   0.161    0.873    
## Sleep       -1.98795    4.25534  -0.467    0.643    
## BrainWgt     0.52013    0.02735  19.021   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 120.8 on 39 degrees of freedom
## Multiple R-squared:  0.9141, Adjusted R-squared:  0.9097 
## F-statistic: 207.6 on 2 and 39 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div id="imputación-simple." class="section level2" number="7.2">
<h2 number="7.2"><span class="header-section-number">7.2</span> Imputación simple.</h2>
<p>Despues de una imputación simple, el resultado es un dataset con el mismo número de filas y columna pero con todos los datos llenos con algún valor imputado. Al realizar el modelamiento, se utilizan los resultados de la imputación realizada para entrenar el modelo.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>ajuste_cc <span class="ot">&lt;-</span> <span class="fu">lm</span>(BodyWgt <span class="sc">~</span> Sleep <span class="sc">+</span> BrainWgt, <span class="at">data =</span> imp_reg)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_cc)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = BodyWgt ~ Sleep + BrainWgt, data = imp_reg)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1557.54     2.11    31.21    57.47  1539.80 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -125.50306  116.19496  -1.080    0.284    
## Sleep          6.16125    9.68143   0.636    0.527    
## BrainWgt       0.91376    0.04788  19.083   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 325.1 on 59 degrees of freedom
## Multiple R-squared:  0.8735, Adjusted R-squared:  0.8692 
## F-statistic: 203.8 on 2 and 59 DF,  p-value: &lt; 2.2e-16</code></pre>
<ul>
<li><p>Nota: Si deseamos utilizar la imputación para nuestra data de validación, tenemos que aplicar la metodología y modelos creados para la imputación a partir de la data de entrenamiento.</p></li>
<li><p>No deben realizarse modelos para imputaciones con los datos de validación sino podríamos sesgar la evaluación del modelo en la data de entrenamiento.</p></li>
</ul>
</div>
<div id="imputación-múltiple." class="section level2" number="7.3">
<h2 number="7.3"><span class="header-section-number">7.3</span> Imputación múltiple.</h2>
<ul>
<li><p>Luego de una imputación multiple, el entrenamiento del modelo debe realizarse en <strong>cada uno</strong> de los múltiples datasets imputados.</p></li>
<li><p>Multiples modelos serán entrenados a partir de los datasets. Es nuestra tarea evaluar la <strong>variabilidad de los modelos</strong> en los diferentes conjuntos de datos y analizar el performance conjunto de todos ellos. (Cuando los modelos sirven para entender el problema, es mejor buscar características estables entre diferentes imputaciones.)</p></li>
<li><p>Ejemplo en R: uso de regresión lineal para los múltiples datasets imputados. El resultados del modelo es el siguiente:</p></li>
</ul>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>ajuste_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(imp1, <span class="fu">lm</span>( BodyWgt <span class="sc">~</span> Sleep <span class="sc">+</span> BrainWgt))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_imp)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">nobs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">-115.6272181</td>
<td align="right">115.1974708</td>
<td align="right">-1.0037305</td>
<td align="right">0.3196075</td>
<td align="right">62</td>
</tr>
<tr class="even">
<td align="left">Sleep</td>
<td align="right">5.3390965</td>
<td align="right">9.7002572</td>
<td align="right">0.5504077</td>
<td align="right">0.5841177</td>
<td align="right">62</td>
</tr>
<tr class="odd">
<td align="left">BrainWgt</td>
<td align="right">0.9117585</td>
<td align="right">0.0475842</td>
<td align="right">19.1609442</td>
<td align="right">0.0000000</td>
<td align="right">62</td>
</tr>
<tr class="even">
<td align="left">(Intercept)</td>
<td align="right">-119.0949473</td>
<td align="right">117.8106771</td>
<td align="right">-1.0109011</td>
<td align="right">0.3161917</td>
<td align="right">62</td>
</tr>
<tr class="odd">
<td align="left">Sleep</td>
<td align="right">5.6116673</td>
<td align="right">9.8814062</td>
<td align="right">0.5679017</td>
<td align="right">0.5722567</td>
<td align="right">62</td>
</tr>
<tr class="even">
<td align="left">BrainWgt</td>
<td align="right">0.9123582</td>
<td align="right">0.0477696</td>
<td align="right">19.0991238</td>
<td align="right">0.0000000</td>
<td align="right">62</td>
</tr>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">-127.6447412</td>
<td align="right">118.4513977</td>
<td align="right">-1.0776128</td>
<td align="right">0.2855929</td>
<td align="right">62</td>
</tr>
<tr class="even">
<td align="left">Sleep</td>
<td align="right">6.3943518</td>
<td align="right">9.9630342</td>
<td align="right">0.6418077</td>
<td align="right">0.5234839</td>
<td align="right">62</td>
</tr>
<tr class="odd">
<td align="left">BrainWgt</td>
<td align="right">0.9140870</td>
<td align="right">0.0480148</td>
<td align="right">19.0376005</td>
<td align="right">0.0000000</td>
<td align="right">62</td>
</tr>
<tr class="even">
<td align="left">(Intercept)</td>
<td align="right">-124.3898523</td>
<td align="right">111.4575654</td>
<td align="right">-1.1160288</td>
<td align="right">0.2689346</td>
<td align="right">62</td>
</tr>
<tr class="odd">
<td align="left">Sleep</td>
<td align="right">6.2677299</td>
<td align="right">9.5362385</td>
<td align="right">0.6572539</td>
<td align="right">0.5135736</td>
<td align="right">62</td>
</tr>
<tr class="even">
<td align="left">BrainWgt</td>
<td align="right">0.9139619</td>
<td align="right">0.0477936</td>
<td align="right">19.1231024</td>
<td align="right">0.0000000</td>
<td align="right">62</td>
</tr>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">-130.6310123</td>
<td align="right">116.7065339</td>
<td align="right">-1.1193119</td>
<td align="right">0.2675433</td>
<td align="right">62</td>
</tr>
<tr class="even">
<td align="left">Sleep</td>
<td align="right">6.7511747</td>
<td align="right">9.9222146</td>
<td align="right">0.6804101</td>
<td align="right">0.4989063</td>
<td align="right">62</td>
</tr>
<tr class="odd">
<td align="left">BrainWgt</td>
<td align="right">0.9146903</td>
<td align="right">0.0479603</td>
<td align="right">19.0718056</td>
<td align="right">0.0000000</td>
<td align="right">62</td>
</tr>
</tbody>
</table>
</div>
<p>Note que es posible utilizar cualquier otra función en lugar de <code>lm()</code>. El resultado será una lista de modelos para cada dataset.</p>
<p>Performance del modelo en las 5 diferentes imputaciones con la librería <em>performance</em>.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(performance)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(ajuste_imp<span class="sc">$</span>analyses, performance)</span></code></pre></div>
<pre><code>## [[1]]
## # Indices of model performance
## 
## AIC     |     BIC |    R2 | R2 (adj.) |    RMSE |   Sigma
## ---------------------------------------------------------
## 898.227 | 906.736 | 0.873 |     0.869 | 317.447 | 325.418
## 
## [[2]]
## # Indices of model performance
## 
## AIC     |     BIC |    R2 | R2 (adj.) |    RMSE |   Sigma
## ---------------------------------------------------------
## 898.207 | 906.715 | 0.873 |     0.869 | 317.395 | 325.364
## 
## [[3]]
## # Indices of model performance
## 
## AIC     |     BIC |    R2 | R2 (adj.) |    RMSE |   Sigma
## ---------------------------------------------------------
## 898.113 | 906.622 | 0.874 |     0.869 | 317.156 | 325.120
## 
## [[4]]
## # Indices of model performance
## 
## AIC     |     BIC |    R2 | R2 (adj.) |    RMSE |   Sigma
## ---------------------------------------------------------
## 898.092 | 906.601 | 0.874 |     0.869 | 317.103 | 325.065
## 
## [[5]]
## # Indices of model performance
## 
## AIC     |     BIC |    R2 | R2 (adj.) |    RMSE |   Sigma
## ---------------------------------------------------------
## 898.060 | 906.569 | 0.874 |     0.869 | 317.020 | 324.980</code></pre>
<p>Finalmente, el análisis de resultados se realizará combinando los resultados de cada modelos. En nuestro caso, se juntan los coeficientes y errores estándares de los 5 modelos de regresión.</p>
<p><strong>Combinación de ajustes: </strong></p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>ajuste_comb <span class="ot">&lt;-</span> <span class="fu">pool</span>(ajuste_imp)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_comb)</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">df</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">-123.4775543</td>
<td align="right">116.1456478</td>
<td align="right">-1.0631268</td>
<td align="right">56.89702</td>
<td align="right">0.2922159</td>
</tr>
<tr class="even">
<td align="left">Sleep</td>
<td align="right">6.0728040</td>
<td align="right">9.8226090</td>
<td align="right">0.6182476</td>
<td align="right">56.84236</td>
<td align="right">0.5388816</td>
</tr>
<tr class="odd">
<td align="left">BrainWgt</td>
<td align="right">0.9133712</td>
<td align="right">0.0478443</td>
<td align="right">19.0904921</td>
<td align="right">57.04963</td>
<td align="right">0.0000000</td>
</tr>
</tbody>
</table>
</div>
<p>** R-Cuadrado ajustado combinado: **</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pool.r.squared</span>(ajuste_imp, <span class="at">adjusted=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##               est     lo 95     hi 95 fmi
## adj R^2 0.8692022 0.7916065 0.9193155 NaN</code></pre>
<p>Estos resultados definen el modelo final a evaluar con la data de validación.</p>
<!-- knitr::purl() -->
</div>
</div>
<div id="ejercicio" class="section level1" number="8">
<h1 number="8"><span class="header-section-number">8</span> Ejercicio</h1>
<ul>
<li><p><a href="files/EjercicioImputacion1.pdf">Descripción del ejercicio</a></p></li>
<li><p><a href="files/Advertising.csv">Datos Advertising.csv</a></p></li>
</ul>
</div>
<div id="anexos" class="section level1" number="9">
<h1 number="9"><span class="header-section-number">9</span> Anexos</h1>
<ul>
<li><p><a href="files/3_Tratamiento%20de%20datos%20perdidos.pdf">Slides Imputación</a></p></li>
<li><p><a href="files/GuiaRImputacion_20210904.R">Códigos utilizados en este manual en R</a></p></li>
</ul>
<div class="sourceCode" id="cb62"><pre class="sourceCode r fold-hide"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">warning =</span> <span class="cn">FALSE</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">message =</span> <span class="cn">FALSE</span>)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_url</span>(<span class="st">&quot;files/3_Tratamiento de datos perdidos.pdf&quot;</span>, <span class="at">height =</span> <span class="st">&quot;600px&quot;</span>)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>notas <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">nombre =</span> <span class="fu">c</span>(<span class="st">&quot;Jesus&quot;</span>, <span class="st">&quot;Carla&quot;</span>, <span class="st">&quot;Rodrigo&quot;</span>, <span class="st">&quot;Javier&quot;</span>),</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">nota =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">13</span>, <span class="cn">NA</span>))</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>notas</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>notas_comp <span class="ot">&lt;-</span> notas[<span class="fu">complete.cases</span>(notas),]</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>notas_comp</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga los datos.</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(sleep, <span class="at">package =</span> <span class="st">&quot;VIM&quot;</span>)</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Vemos las 6 primeras filas.</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sleep)</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sleep)</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(sleep)</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sleep)</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(sleep, <span class="dv">2</span>, <span class="cf">function</span>(x){<span class="fu">sum</span>(<span class="fu">is.na</span>(x))})</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>mice<span class="sc">::</span><span class="fu">md.pattern</span>(sleep, <span class="at">rotate.names=</span><span class="cn">TRUE</span>)</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>mice<span class="sc">::</span><span class="fu">md.pairs</span>(sleep)</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>sleep_aggr <span class="ot">&lt;-</span> VIM<span class="sc">::</span><span class="fu">aggr</span>(sleep, <span class="at">col =</span> mice<span class="sc">::</span><span class="fu">mdc</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>), <span class="at">numbers =</span> <span class="cn">TRUE</span>, </span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>                        <span class="at">sortVars =</span> <span class="cn">TRUE</span>, <span class="at">labels =</span> <span class="fu">names</span>(sleep),</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>                        <span class="at">cex.axis=</span> <span class="fl">0.7</span>, <span class="at">gap =</span> <span class="dv">3</span>,</span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ylab =</span> <span class="fu">c</span>(<span class="st">&quot;Proporción de Pérdida&quot;</span>,</span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">&quot;Patrón de Pérdida&quot;</span>))</span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>VIM<span class="sc">::</span><span class="fu">marginplot</span>(sleep[ , <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">7</span>)], <span class="at">pch =</span> <span class="dv">19</span>)</span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>VIM<span class="sc">::</span><span class="fu">marginplot</span>(sleep[ , <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">7</span>)], <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>), <span class="at">pch =</span> <span class="dv">20</span>)</span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Imputación Univariada</span></span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(notas, <span class="fu">impute</span>(nota, mean))</span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>notas</span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(notas, <span class="fu">impute</span>(nota, <span class="st">&#39;random&#39;</span>))</span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>notas</span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(notas, <span class="fu">impute</span>(nota, <span class="dv">99</span>))</span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>notas</span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a>notas<span class="sc">$</span>nota[<span class="fu">is.na</span>(notas<span class="sc">$</span>nota)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(notas<span class="sc">$</span>nota, <span class="at">na.rm =</span> T)</span>
<span id="cb62-39"><a href="#cb62-39" aria-hidden="true" tabindex="-1"></a>notas</span>
<span id="cb62-40"><a href="#cb62-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-41"><a href="#cb62-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Imputación Multivariada</span></span>
<span id="cb62-42"><a href="#cb62-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-43"><a href="#cb62-43" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice) </span>
<span id="cb62-44"><a href="#cb62-44" aria-hidden="true" tabindex="-1"></a>imp <span class="ot">&lt;-</span> <span class="fu">mice</span>(sleep, <span class="at">method =</span> <span class="st">&quot;norm.predict&quot;</span>, <span class="at">m =</span> <span class="dv">1</span>, <span class="at">maxit=</span><span class="dv">1</span>) <span class="co"># Impute data</span></span>
<span id="cb62-45"><a href="#cb62-45" aria-hidden="true" tabindex="-1"></a>imp_reg <span class="ot">&lt;-</span> <span class="fu">complete</span>(imp)</span>
<span id="cb62-46"><a href="#cb62-46" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DMwR)</span>
<span id="cb62-47"><a href="#cb62-47" aria-hidden="true" tabindex="-1"></a>sleep_imp <span class="ot">&lt;-</span> DMwR<span class="sc">::</span><span class="fu">knnImputation</span>(sleep)</span>
<span id="cb62-48"><a href="#cb62-48" aria-hidden="true" tabindex="-1"></a><span class="co">#View(sleep_imp)</span></span>
<span id="cb62-49"><a href="#cb62-49" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sleep_imp)</span>
<span id="cb62-50"><a href="#cb62-50" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(sleep_imp, <span class="dv">2</span>, <span class="cf">function</span>(x){<span class="fu">sum</span>(<span class="fu">is.na</span>(x))})</span>
<span id="cb62-51"><a href="#cb62-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(missForest)</span>
<span id="cb62-52"><a href="#cb62-52" aria-hidden="true" tabindex="-1"></a>sleep_imp_rf <span class="ot">&lt;-</span> <span class="fu">missForest</span>(sleep)</span>
<span id="cb62-53"><a href="#cb62-53" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(sleep_imp<span class="sc">$</span>NonD, <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb62-54"><a href="#cb62-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(VIM)</span>
<span id="cb62-55"><a href="#cb62-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb62-56"><a href="#cb62-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-57"><a href="#cb62-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Imputación Multiple</span></span>
<span id="cb62-58"><a href="#cb62-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-59"><a href="#cb62-59" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb62-60"><a href="#cb62-60" aria-hidden="true" tabindex="-1"></a>imp1 <span class="ot">&lt;-</span> <span class="fu">mice</span>(sleep, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">seed =</span> <span class="dv">2</span>)</span>
<span id="cb62-61"><a href="#cb62-61" aria-hidden="true" tabindex="-1"></a>imp1</span>
<span id="cb62-62"><a href="#cb62-62" aria-hidden="true" tabindex="-1"></a>imp1<span class="sc">$</span>method</span>
<span id="cb62-63"><a href="#cb62-63" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(imp1<span class="sc">$</span>imp<span class="sc">$</span>NonD)</span>
<span id="cb62-64"><a href="#cb62-64" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lattice)</span>
<span id="cb62-65"><a href="#cb62-65" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, Gest <span class="sc">~</span> NonD <span class="sc">|</span> .imp, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">cex =</span> <span class="fl">1.4</span>)</span>
<span id="cb62-66"><a href="#cb62-66" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, NonD <span class="sc">~</span> Gest <span class="sc">|</span> .imp, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">cex =</span> <span class="fl">1.4</span>)</span>
<span id="cb62-67"><a href="#cb62-67" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, Gest <span class="sc">~</span> NonD, <span class="at">pch =</span> <span class="dv">18</span>)</span>
<span id="cb62-68"><a href="#cb62-68" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, NonD <span class="sc">~</span> Gest, <span class="at">pch =</span> <span class="dv">18</span>)</span>
<span id="cb62-69"><a href="#cb62-69" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(imp1, Gest <span class="sc">~</span> NonD <span class="sc">+</span> Span , <span class="at">pch =</span> <span class="dv">18</span>)</span>
<span id="cb62-70"><a href="#cb62-70" aria-hidden="true" tabindex="-1"></a><span class="fu">densityplot</span>(imp1)</span>
<span id="cb62-71"><a href="#cb62-71" aria-hidden="true" tabindex="-1"></a><span class="fu">stripplot</span>(imp1, <span class="at">pch =</span> <span class="dv">20</span>)</span>
<span id="cb62-72"><a href="#cb62-72" aria-hidden="true" tabindex="-1"></a>ajuste_cc <span class="ot">&lt;-</span> <span class="fu">lm</span>(BodyWgt <span class="sc">~</span> Sleep <span class="sc">+</span> BrainWgt, </span>
<span id="cb62-73"><a href="#cb62-73" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> <span class="fu">na.omit</span>(sleep))</span>
<span id="cb62-74"><a href="#cb62-74" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_cc)</span>
<span id="cb62-75"><a href="#cb62-75" aria-hidden="true" tabindex="-1"></a>ajuste_cc <span class="ot">&lt;-</span> <span class="fu">lm</span>(BodyWgt <span class="sc">~</span> Sleep <span class="sc">+</span> BrainWgt, <span class="at">data =</span> imp_reg)</span>
<span id="cb62-76"><a href="#cb62-76" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_cc)</span>
<span id="cb62-77"><a href="#cb62-77" aria-hidden="true" tabindex="-1"></a>ajuste_imp <span class="ot">&lt;-</span> <span class="fu">with</span>(imp1, <span class="fu">lm</span>( BodyWgt <span class="sc">~</span> Sleep <span class="sc">+</span> BrainWgt))</span>
<span id="cb62-78"><a href="#cb62-78" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_imp)</span>
<span id="cb62-79"><a href="#cb62-79" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(performance)</span>
<span id="cb62-80"><a href="#cb62-80" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(ajuste_imp<span class="sc">$</span>analyses, performance)</span>
<span id="cb62-81"><a href="#cb62-81" aria-hidden="true" tabindex="-1"></a>ajuste_comb <span class="ot">&lt;-</span> <span class="fu">pool</span>(ajuste_imp)</span>
<span id="cb62-82"><a href="#cb62-82" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ajuste_comb)</span>
<span id="cb62-83"><a href="#cb62-83" aria-hidden="true" tabindex="-1"></a><span class="fu">pool.r.squared</span>(ajuste_imp, <span class="at">adjusted=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<ul>
<li><p><a href="files/sleep_data_names.pdf">Descripción de columnas del dataset <em>sleep</em></a></p></li>
<li><p><a href="https://www.researchgate.net/publication/44203418_MICE_Multivariate_Imputation_by_Chained_Equations_in_R">Artículo presentación de MICE</a></p></li>
</ul>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="mailto:egutierreza@pucp.edu.pe" class="email">egutierreza@pucp.edu.pe</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p><a href="mailto:vromero@uni.pe" class="email">vromero@uni.pe</a><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>

   
      <div id="rmd-source-code">LS0tDQp0aXRsZTogIlRyYXRhbWllbnRvIGRlIHZhbG9yZXMgcGVyZGlkb3MgY29uIFIiDQphdXRob3I6DQogIC0gRXZlbHluIEd1dGllcnJlel5bZWd1dGllcnJlemFAcHVjcC5lZHUucGVdDQogIC0gVmlsbWEgUm9tZXJvXlt2cm9tZXJvQHVuaS5wZV0NCmRhdGU6ICJTZXB0ZW1iZXIsIDIwMjEiDQpvdXRwdXQ6DQogIHJtZGZvcm1hdHM6OnJvYm9ib29rOg0KICAgIGhpZ2hsaWdodDogcHlnbWVudHMNCiAgICBudW1iZXJfc2VjdGlvbnM6IHRydWUNCiAgICBjb2RlX2ZvbGRpbmc6IHNob3cNCiAgICBjb2RlX2Rvd25sb2FkOiBUUlVFDQogICAgZGZfcHJpbnQ6ICJrYWJsZSINCiAgaHRtbF9kb2N1bWVudDoNCiAgICB0b2M6IHllcw0KICBwZGZfZG9jdW1lbnQ6IA0KICAgIGtlZXBfdGV4OiB5ZXMNCiAgICBudW1iZXJfc2VjdGlvbnM6IHllcw0KICAgIHRvYzogeWVzDQoNCi0tLQ0KDQpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0NCmtuaXRyOjpvcHRzX2NodW5rJHNldChlY2hvID0gVFJVRSkNCmtuaXRyOjpvcHRzX2NodW5rJHNldCh3YXJuaW5nID0gRkFMU0UpDQprbml0cjo6b3B0c19jaHVuayRzZXQobWVzc2FnZSA9IEZBTFNFKQ0KYGBgDQoNCg0KDQojIEludHJvZHVjY2nDs24uDQoNCg0KYGBge3IgZWNobz1GQUxTRX0NCmtuaXRyOjppbmNsdWRlX3VybCgiZmlsZXMvM19UcmF0YW1pZW50byBkZSBkYXRvcyBwZXJkaWRvcy5wZGYiLCBoZWlnaHQgPSAiNjAwcHgiKQ0KYGBgDQoNCg0KDQojIExhYm9yYXRvcmlvIGVuIFIuDQoNCkVuIGVzdGEgc2VzacOzbiwgcmVhbGl6YXJlbW9zIGxhIGltcHV0YWNpw7NuIGRlIGRhdG9zIHBlcmRpZG9zIHV0aWxpemFuZG8gdMOpY25pY2FzIGLDoXNpY2FzIHkgcG9yIHZlY2lub3MgbcOhcyBjZXJjYW5vcy4gDQoNClJlcXVlcmltb3MgaW5zdGFsYXIgbG9zIHNpZ3VpZW50ZXMgcGFxdWV0ZXM6IA0KDQoqIGBIbWlzY2ANCiogYFZJTWANCiogYG1pY2VgDQoqIGBETXdSYA0KDQoNClBhcmEgYERNd1JgLCB1dGlsaXphcjogYHJlbW90ZXM6Omluc3RhbGxfZ2l0aHViKCJjcmFuL0RNd1IiKWANCg0KDQojIEV4cGxvcmFjacOzbiBkZSB2YWxvcmVzIHBlcmRpZG9zLg0KICANCiAgDQoNCjxicj4NCg0KIyMgRXhwbG9yYWNpw7NuIGLDoXNpY2EuDQoNCioqQ2FzbyAxOiBOb3Rhcy4qKg0KICANCkluaWNpYW1vcyBlc3RlIGVqZW1wbG8sIGNyZWFuZG8gdW4gZGF0YS5mcmFtZSBub3RhcyBjb24gYWxndW5hIG5vdGEgZmFsdGFudGUuDQogIA0KYGBge3J9DQpub3RhcyA8LSBkYXRhLmZyYW1lKG5vbWJyZSA9IGMoIkplc3VzIiwgIkNhcmxhIiwgIlJvZHJpZ28iLCAiSmF2aWVyIiksDQogICAgICAgICAgICAgICAgICAgIG5vdGEgPSBjKDEyLCAxNSwgMTMsIE5BKSkNCm5vdGFzDQpgYGANCg0KRXhwbG9yYW1vcyB2aXN1YWxtZW50ZSBlbCBuw7ptZXJvIGRlIHZhbG9yZXMgcGVyZGlkb3MgcG9yIHZhcmlhYmxlOiBzb2xvIGV4aXN0ZSB1biB2YWxvciBhbGVhdG9yaW8uDQoNCkZpbmFsbWVudGUsIHNlbGVjY2lvbmFyIGxvcyBkYXRvcyBjb21wbGV0b3MgY29uIGBjb21wbGV0ZS5jYXNlc2AuDQpgYGB7cn0NCm5vdGFzX2NvbXAgPC0gbm90YXNbY29tcGxldGUuY2FzZXMobm90YXMpLF0NCm5vdGFzX2NvbXANCmBgYA0KIA0KDQo8YnI+DQoNCiMjIFZpc3VhbGl6YWNpb25lcw0KDQogDQoqKkNhc28gMjogRGF0YXNldCBzbGVlcCoqICANCg0KDQoNClV0aWxpemFyZW1vcyBlbCBjb25qdW50byBkZSBkYXRvcyAqc2xlZXAqIGRlbCBwYXF1ZXRlIFZJTSBwYXJhIHJlYWxpemFyIGxhIGV4cGxvcmFjacOzbiBkZSB2YWxvcmVzIHBlcmRpZG9zIGVuIFIuDQogDQotIEluc3RhbGFjacOzbjoNCg0KTmVjZXNpdGFtb3MgaW5zdGFsYXIgZWwgcGFxdWV0ZSBWSU0gY29uIGVsIHNpZ3VpZW50ZSBjw7NkaWdvIGVuIGxhIGNvbnNvbGE6IGBpbnN0YWxsLnBhY2thZ2VzKCJWSU0iKWAuDQoNCkx1ZWdvLCBjYXJnYW1vcyBsb3MgZGF0b3MgZGUgYHNsZWVwYCB5IHZlbW9zIGxhcyBwcmltZXJhcyBmaWxhcyBkZWwgZGF0YXNldCB1dGlsaXphbmRvIGVsIHNpZ3VpZW50ZSBjw7NkaWdvOg0KDQoNCmBgYHtyfQ0KIyBDYXJnYSBsb3MgZGF0b3MuDQpkYXRhKHNsZWVwLCBwYWNrYWdlID0gIlZJTSIpDQoNCiMgVmVtb3MgbGFzIDYgcHJpbWVyYXMgZmlsYXMuDQpoZWFkKHNsZWVwKQ0KYGBgDQoNCg0KQ29tcHJvYmFyZW1vcyBxdWUgZWwgZGF0YXNldCAic2xlZXAiIGFob3JhIGFwYXJlY2UgdGFtYmnDqW4gZW4gc3UgKipFbnZpcm9ubWVudCoqIGVuIFJTdHVkaW8uIA0KDQoNCkluaWNpYW1vcyBsYSAqKmV4cGxvcmFjacOzbiBpbmljaWFsKiogZGUgZXN0ZSBudWV2byBkYXRhc2V0IGNvbiBhbGd1bm8gZGUgbG9zIHNpZ3VpZW50ZXMgY29tYW5kb3MgYsOhc2ljb3M6DQoNCmBgYHtyfQ0Kc3RyKHNsZWVwKQ0KZHBseXI6OmdsaW1wc2Uoc2xlZXApDQpzdW1tYXJ5KHNsZWVwKQ0KYGBgDQoNCg0KRW4gdG9kb3MgZWxsb3Mgb2JzZXJ2YXJlbW9zIHVuYSBwcmltZXJhIHZpc3RhIGRlIGxvcyBkYXRvcy4gTm90YXJlbW9zIGFkZW3DoXMsIHF1ZSBleGlzdGVuIHZhbG9yZXMgTkEsIGRhdG9zIHBlcmRpZG9zLg0KTGEgcHJpbWVyYSBwcmVndW50YSBxdWUgbm9zIGhhY2Vtb3MgZXM6DQoNCg0KPiDCv0N1w6FudG9zIGRhdG9zIGVzdMOhbiBjb24gdmFsb3JlcyBOQSBlbiBlc3RlIGRhdGFzZXQ/DQoNCg0KUGFyYSBjb250YXIgZWwgbsO6bWVybyBkZSB2YWxvcmVzIHBlcmRpZG9zIHBvciB2YXJpYWJsZSBwb2RlbW9zIHVzYXIgZXN0ZSBjw6FsY3VsbyBjb24gbGEgZnVuY2nDs24gKmFwcGx5KiBxdWUgY3VlbnRhIGVsIG7Dum1lcm8gZGUgdmFsb3JlcyBwZXJkaWRvcyAodmFsb3JlcyBOQSBwYXJhIFIpIHBvciBjb2x1bW5hLiANCg0KYGBge3J9DQphcHBseShzbGVlcCwgMiwgZnVuY3Rpb24oeCl7c3VtKGlzLm5hKHgpKX0pDQpgYGANCiANCiANCkFob3JhIHBvZGVtb3MgcmVzcG9uZGVyIGxvIHNpZ3VpZW50ZSBgciBlbW86OmppKCJ0ZWFjaGVyIilgOiANCg0KKiDCv0N1w6FudG9zIHZhbG9yZXMgcGVyZGlkb3MgaGF5IGVuIGNhZGEgdmFyaWFibGU/DQoqIMK/UXXDqSB2YXJpYWJsZXMgdGllbmVuIHZhbG9yZXMgcGVyZGlkb3M/DQoqIMK/UXXDqSB2YXJpYWJsZXMgdGllbmVuIG3DoXMgdmFsb3JlcyBwZXJkaWRvcz8gYHIgZW1vOjpqaSgicmFpc2VkIilgDQogDQoNCjxicj4NCg0KDQpDb250aW51YW1vcyBleHBsb3JhbmRvIGxvcyB2YWxvcmVzIHBlcmRpZG9zIGFuYWxpemFuZG8gZWwgKipwYXRyw7NuIGRlIHZhbG9yZXMgcGVyZGlkb3MqKiBkaXN0cmlidWlkb3MgKiplbiBsYXMgZGlmZXJlbnRlcyB2YXJpYWJsZXMqKiBkZWwgY29uanVudG8gZGUgZGF0b3MgKGRhdGFzZXQpLiBFc3RvIG5vcyBheXVkYXLDoSBhIGVudGVuZGVyIG1lam9yIG51ZXN0cm9zIGRhdG9zLiANCg0KTG8gaGFjZW1vcyB1dGlsaXphbmRvIGxhIGZ1bmNpw7NuICptZC5wYXR0ZXJuKiB5ICptZC5wYWlycyogZGVsIHBhcXVldGUgKipNSUNFKiouDQoNCmBgYHtyIG91dC53aWR0aD0nODAlJ30NCm1pY2U6Om1kLnBhdHRlcm4oc2xlZXAsIHJvdGF0ZS5uYW1lcz1UUlVFKQ0KbWljZTo6bWQucGFpcnMoc2xlZXApDQpgYGANCg0KRW4gZXN0b3MgZ3LDoWZpY29zIHkgdGFibGFzIG9ic2VydmFtb3MgbGFzIGRpZmVyZW50ZXMgY29tYmluYWNpb25lcyBkZSB2YWxvcmVzIHBlcmRpZG9zIHF1ZSB0ZW5lbW9zIHBhcmEgbnVlc3RyYXMgdmFyaWFibGVzLiBBaG9yYSwgcG9kZW1vcyByZXNwb25kZXIgbGFzIHNpZ3VpZW50ZSBwcmVndW50YXM6IA0KDQoqIMK/Q3VhbnRhcyBvYnNlcnZhY2lvbmVzIG5vIHRpZW5lbiBuaWfDum4gdmFsb3IgcGVyZGlkbz8NCiogwr9DdWFudGFzIG9ic2VydmFjaW9uZXMgbm8gdGllbmVuIG5pZ8O6biB2YWxvciBwZXJkaWRvPw0KDQpWaXN1YWxpemFjacOzbiBkZSBkYXRvcyBwZXJkaWRvcw0KYGBge3J9DQpzbGVlcF9hZ2dyIDwtIFZJTTo6YWdncihzbGVlcCwgY29sID0gbWljZTo6bWRjKDE6MiksIG51bWJlcnMgPSBUUlVFLCANCiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRWYXJzID0gVFJVRSwgbGFiZWxzID0gbmFtZXMoc2xlZXApLA0KICAgICAgICAgICAgICAgICAgICAgICAgY2V4LmF4aXM9IDAuNywgZ2FwID0gMywNCiAgICAgICAgICAgICAgICAgICAgICAgIHlsYWIgPSBjKCJQcm9wb3JjacOzbiBkZSBQw6lyZGlkYSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUGF0csOzbiBkZSBQw6lyZGlkYSIpKQ0KYGBgDQoNCkRpc3RyaWJ1Y2nDs24gZGUgb2JzZXJ2YWNpb25lcyBjb21wbGV0YXMgZSBpbmNvbXBsZXRhcyBwb3IgcGFyZXMgZGUgdmFyaWFibGVzDQpgYGB7cn0NClZJTTo6bWFyZ2lucGxvdChzbGVlcFsgLCBjKDMsIDcpXSwgcGNoID0gMTkpDQpWSU06Om1hcmdpbnBsb3Qoc2xlZXBbICwgYygzLCA3KV0sIGNvbCA9IGMoImJsdWUiLCAicmVkIiwgIm9yYW5nZSIpLCBwY2ggPSAyMCkNCmBgYA0KDQpEZXNjcmlwY2nDs246DQoNCiogUHVudG9zIGF6dWxlcyAoZGlhZ3JhbWEgZGUgZGlzcGVyc2nDs24pOiBpbmRpdmlkdW9zIGNvbiBhbWJvcyB2YWxvcmVzIGRlIGxhcyB2YXJpYWJsZXMuDQoqIEJveHBsb3RzIGF6dWxlczogYm94cGxvdHMgZGUgbG9zIHZhbG9yZXMgbm8gcGVyZGlkb3MgZGUgY2FkYSB2YXJpYWJsZQ0KDQoqIFB1bnRvcyByb2pvcyAoRWplIFg6IE5vbkQpOiBpbmRpdmlkdW9zIGNvbiB2YWxvcmVzIHBlcmRpZG9zIGVuIEdlc3QgcGVybyBvYnNlcnZhZG9zIGVuIE5vbkQuDQoqIFB1bnRvcyByb2pvcyAoRWplIFk6IEdlc3QpOiBpbmRpdmlkdW9zIGNvbiB2YWxvcmVzIHBlcmRpZG9zIGVuIE5vbkQgcGVybyBvYnNlcnZhZG9zIGVuIEdlc3QuDQoqIEJveHBsb3RzIHJvam9zOiBSZXByZXNlbnRhbiBsYSBkaXN0cmlidWNpw7NuIG1hcmdpbmFsIGRlIGxvcyBwdW50b3Mgcm9qb3MuDQoNCk5vdGE6IFNpIGxvcyBkYXRvcyBwZXJkaWRvcyBzb24gY29tcGxldGFtZW50ZSBhbGVhdG9yaW9zIHNlIGVzcGVyYSBxdWUNCmxvcyBib3hwbG90cyByb2pvcyB5IGF6dWxlcyBzZWFuIGlkw6ludGljb3MNCg0KDQpcbmV3cGFnZQ0KDQoNCiMgSW1wdXRhY2nDs24gVW5pdmFyaWFkYQ0KDQpgYGB7ciBldmFsPUZBTFNFLCB3YXJuaW5nPUZBTFNFLCBpbmNsdWRlPUZBTFNFfQ0KDQojIEltcHV0YWNpw7NuIFVuaXZhcmlhZGENCg0KYGBgDQoNCiMjIENvbiBsYSBtZWRpYS4NCg0KaW5zdGFsYW1vcyBsYSBsaWJyZXLDrWEgYEhtaXNjYCBwYXJhIHJlYWxpemFyIGltcHV0YWNpb25lcyBiw6FzaWNhcy4gTGEgaW5zdGFsYWNpw7NuLCBsYSByZWFsaXphcmVtb3MgdXRpbGl6YW5kbyBlbCBzaWd1aWVudGUgY29tYW5kbyBlbiBsYSBjb25zb2xhOiBgaW5zdGFsbC5wYWNrYWdlcygiSG1pc2MiKWAuDQoNCkx1ZWdvIGRlIGNvbXBsZXRhZGEgbGEgaW5zdGFsYWNpw7NuLCBjb21wcm9iYW1vcyBjYXJnYW5kbyBlbCBwYXF1ZXRlLg0KDQoNCmBgYHtyIHdhcm5pbmc9RkFMU0V9DQpsaWJyYXJ5KEhtaXNjKQ0KYGBgDQoNCg0KU2kgbm8gdGVuZW1vcyBtYXlvciBpbmZvcm1hY2nDs24sIHV0aWxpemFyZW1vcyBsYSBtZWRpYSBjb21vIHZhbG9yIGRlIGltcHV0YWNpw7NuLg0KRXMgdW5hIGltcHV0YWNpw7NuIHLDoXBpZGEsIHNpbXBsZSB5IHNlbmNpbGxhLg0KDQpgYGB7cn0NCm5vdGFzJG5vdGFfaW1wIDwtIHdpdGgobm90YXMsIGltcHV0ZShub3RhLCBtZWFuKSkNCm5vdGFzDQpgYGANCg0KKioqDQoNCiMjIENvbiB2YWxvciBhbGVhdG9yaW8uDQoNClV0aWxpemFtb3MgdW4gdmFsb3IgYWxlYXRvcmlvIGNvbW8gdmFsb3IgZGUgaW1wdXRhY2nDs246IFNlIHNlbGVjY2lvbmEgYWxlYXRvcmlhbWVudGUgYSBwYXJ0aXIgZGUgbG9zIHZhbG9yZXMgbm8gcGVyZGlkb3MuIFNpbXBsZSB5IMO6dGlsIGVuIGNhc28gZGUgTUNBUi4NCg0KYGBge3J9DQpub3RhcyRub3RhX2ltcCA8LSB3aXRoKG5vdGFzLCBpbXB1dGUobm90YSwgJ3JhbmRvbScpKQ0Kbm90YXMNCmBgYA0KDQoqKioNCg0KIyMgQ29uIHVuIHZhbG9yIGVzcGVjw61maWNvLg0KDQpTaSB0ZW5lbW9zIGluZm9ybWFjacOzbiBlc3BlY8OtZmljYSwgbyByZXN1bHRhIGNvbnZlbmllbnRlLCBwb2RlbW9zIGltcHV0YXIgbG9zIGRhdG9zIHBlcmRpZG9zIGNvbiB1biB2YWxvciBlc3BlY8OtZmljby4NCg0KDQpgYGB7cn0NCm5vdGFzJG5vdGFfaW1wIDwtIHdpdGgobm90YXMsIGltcHV0ZShub3RhLCA5OSkpDQpub3Rhcw0KYGBgDQoNCioqKg0KDQojIyBNYW51YWxtZW50ZQ0KDQpQb3IgdWx0aW1vLCBsYSBpbXB1dGFjacOzbiBwdWVkZSByZWFsaXphcnNlIHNpbiBlbCBwYXF1ZXRlIEhtaXNjIGRlIGxhIHNpZ3VpZW50ZSBtYW5lcmE6DQoNCmBgYHtyfQ0Kbm90YXMkbm90YVtpcy5uYShub3RhcyRub3RhKV0gPC0gbWVhbihub3RhcyRub3RhLCBuYS5ybSA9IFQpDQpub3Rhcw0KYGBgDQoNCg0KPGJyPg0KDQojIEltcHV0YWNpw7NuIE11bHRpdmFyaWFkYQ0KDQpgYGB7ciBldmFsPUZBTFNFLCB3YXJuaW5nPUZBTFNFLCBpbmNsdWRlPUZBTFNFfQ0KDQojIEltcHV0YWNpw7NuIE11bHRpdmFyaWFkYQ0KDQpgYGANCg0KIyMgUG9yIHJlZ3Jlc2nDs24gbGluZWFsLg0KDQpDb24gbGEgbGlicmVyw61hIG1pY2UuIEVzdGEgbGlicmVyw61hIHNpcnZlIHBhcmEgaW1wdXRhY2nDs24gbcO6bHRpcGxlIHBlcm8gcG9kZW1vcyB1c2FybGEgdGFtYmnDqW4gcGFyYSBpbXB1dGFjacOzbiBzaW1wbGUgc2kgZGVmaW5pbW9zICptPTEqLiAgDQoNCmBgYHtyfQ0KbGlicmFyeShtaWNlKSANCmltcCA8LSBtaWNlKHNsZWVwLCBtZXRob2QgPSAibm9ybS5wcmVkaWN0IiwgbSA9IDEsIG1heGl0PTEpICMgSW1wdXRlIGRhdGENCmltcF9yZWcgPC0gY29tcGxldGUoaW1wKQ0KYGBgDQoNClBhcmEgbWlzc2luZ3MgZW4gdmFyaWFibGVzIGNhdGVnb3LDrWNhcyBzZSBwdWVkZSB1dGlsaXphciByZWdyZXNpw7NuIGxvZ2lzdGljYSBjb24gZWwgYXJndW1lbnRvIGBtZXRob2Q9ImxvZ3JlZyJgLiBFamVtcGxvOiANCmBtaWNlKG5oYW5lczIsIG1ldGggPSBjKCJzYW1wbGUiLCAibm9ybS5wcmVkaWN0IiwgImxvZ3JlZyIsICJub3JtLnByZWRpY3QiKSlgDQoNClBhcmEgdmVyIG90cm9zIG3DqXRvZG9zLCBwb2RlbW9zIHZlciBsYSBkb2N1bWVudGFjacOzbiBkZSBsYSBmdW5jacOzbiBtaWNlIGVzY3JpYmllbmRvIGA/bWljZTo6bWljZWAgZW4gbGEgY29uc29sYS4NCg0KPGJyPg0KDQojIyBQb3IgSyB2ZWNpbm9zIG3DoXMgY2VyY2Fub3MuDQogDQpBcGxpY2Ftb3MgdmVjaW9ucyBtw6FzIGNlcmNhbm9zIHkgZ3VhcmRhbW9zIGxvcyByZXN1bHRhZG9zIGVuIHNsZWVwX2ltcA0KDQpgYGB7cn0NCmxpYnJhcnkoRE13UikNCnNsZWVwX2ltcCA8LSBETXdSOjprbm5JbXB1dGF0aW9uKHNsZWVwKQ0KI1ZpZXcoc2xlZXBfaW1wKQ0Kc3VtbWFyeShzbGVlcF9pbXApDQpgYGANCg0Kwr9IYXkgZGF0b3MgcGVyZGlkb3MgYWhvcmE/IA0KDQpgYGB7cn0NCmFwcGx5KHNsZWVwX2ltcCwgMiwgZnVuY3Rpb24oeCl7c3VtKGlzLm5hKHgpKX0pDQpgYGANCg0KDQojIyBQb3IgYm9zcXVlcyBhbGVhdG9yaW9zLg0KDQpgYGB7cn0NCmxpYnJhcnkobWlzc0ZvcmVzdCkNCnNsZWVwX2ltcF9yZiA8LSBtaXNzRm9yZXN0KHNsZWVwKQ0KcHJpbnQoc2xlZXBfaW1wJE5vbkQsIGRpZ2l0cyA9IDMpDQpgYGANCg0KIyMgTUlDRQ0KDQo+IE1JQ0U6ICpNdWx0aXZhcmlhdGUgSW1wdXRhdGlvbiBieSBDaGFpbmVkIEVxdWF0aW9ucyoNCg0KVXRpbGl6YXJlbW9zIGxhIG1ldG9kb2xvZ8OtYSBNSUNFOiBNdWx0aXZhcmlhdGUgSW1wdXRhdGlvbiBieSBDaGFpbmVkIEVxdWF0aW9ucyBwYXJhIHJlYWxpemFyIGltcHV0YWNpw7NuIG11bHRpdmFyaWFkYS4NCg0KTGEgaW1wdXRhY2nDs24gY29uIE1JQ0UgcHVlZGUgc2VyIHNpbXBsZSBvIG3Dumx0aXBsZS4gU2ltcGxlIHNpIHNvbG8gc2UgaW1wdXRhIGVsIGRhdGFzZXQgaW5pY2lhbDsgeSBtw7psdGlwbGUgY3VhbmRvIHNlIGNyZWFuIG11bHRpcGxlcyBkYXRhc2V0cyBjb24gZGlmZXJlbnRlcyBpbXB1dGFjaW9uZXMuDQoNCg0KYGBge3J9DQpsaWJyYXJ5KFZJTSkNCmxpYnJhcnkobWljZSkNCmBgYA0KIA0KDQojIEltcHV0YWNpw7NuIE3Dumx0aXBsZQ0KDQpgYGB7ciBldmFsPUZBTFNFLCB3YXJuaW5nPUZBTFNFLCBpbmNsdWRlPUZBTFNFfQ0KDQojIEltcHV0YWNpw7NuIE11bHRpcGxlDQoNCmBgYA0KDQojIyBNSUNFDQoNClV0aWxpemFtb3MgZWwgcGFxdWV0ZSBNSUNFOiBJbXB1dGFjacOzbiBNdWx0aXZhcmlhZGEgcG9yIENoYWluZWQgRXF1YXRpb25zIHBhcmEgcmVhbGl6YXIgbGEgaW1wdXRhY2nDs24gbcO6bHRpcGxlLg0KDQpgYGB7cn0NCmxpYnJhcnkobWljZSkNCmBgYA0KDQpMYSBpbXB1dGFjacOzbiBzZSByZWFsaXphIGNvbiBlc3RhcyBsw61uZWFzIGRlIGPDs2RpZ286DQoNCmBgYHtyfQ0KaW1wMSA8LSBtaWNlKHNsZWVwLCBtID0gNSwgc2VlZCA9IDIpDQppbXAxDQpgYGANCg0KRWwgYXJndW1lbnRvIG09NSBpbmRpY2EgcXVlIHNlIGNyZWFyYW4gNSBkYXRhc2V0cyBkZSBpbXB1dGFjaW9uZXMuDQoNCg0KVmVyaWZpY2Ftb3MgZWwgbcOpdG9kb3MgZGUgaW1wdXRhY2nDs24gdXRpbGl6YWRvOg0KYGBge3J9DQppbXAxJG1ldGhvZA0KYGBgDQoNCkNvbW8gdmVtb3MsIHNlIHVzw7MgZWwgbcOpdG9kbyBwbW0gKFByZWRpY3RpdmUgbWVhbiBtYXRjaGluZyk6IFVuIG3DqXRvZG8gZGUgaW1wdXRhY2nDs24gc2VtaS1wYXLDoW1ldHJpY28gdXNhZG8gcG9yIGRlZmVjdG8gcGFyYSB2YXJpYWJsZXMgY29udGludWFzLiANCiAgLSBTZWxlY2Npb25hIHVuIGdydXBvIGRlIGNhbmRpZGF0b3MgdmVjaW5vcyBzaW1pbGFyZXMgeSBjZXJjYW5vcywgeSB0b21hIHVubyBhbGVhdG9yaWFtZW50ZSBjb21vIGRvbmFkb3IuDQoNCi0gUGFyYSByZXZpc2FyIHRvZGFzIGxhIG1ldG9kb2xvZ8OtYXMgcXVlIHRpZW5lLCBzZSBwdWVkZSB2ZXIgZWwgW2FydMOtY3VsbyBkb25kZSBzZSBwcmVzZW50YSBNSUNFXShodHRwczovL3d3dy5yZXNlYXJjaGdhdGUubmV0L3B1YmxpY2F0aW9uLzQ0MjAzNDE4X01JQ0VfTXVsdGl2YXJpYXRlX0ltcHV0YXRpb25fYnlfQ2hhaW5lZF9FcXVhdGlvbnNfaW5fUikuIA0KDQoNCjxicj4NCg0KDQpJbXB1dGFjaW9uZXMgcGFyYSB1bmEgdmFyaWFibGUgZW4gcGFydGljdWxhci4gVmVhbW9zIGVsIG9iamV0byAqKmltcDEqKiwgcXVlIHRpZW5lIHVuYSBsaXN0YSBkZSBpbXB1dGFkb3MgKippbXAqKiBjb24gdW4gc2V0IGRlIGltcHV0YWRvcyBwYXJhIGxhIGNvbHVtbmEgTm9uRCANCg0KYGBge3J9DQpoZWFkKGltcDEkaW1wJE5vbkQpDQpgYGANCg0KTm90ZW1vcyBxdWUgY2FkYSBjb2x1bW5hIHJlcHJlc2VudGEgYSB1biBzZXQgZGUgdmFsb3JlcyBpbXB1dGFkb3MgcGFyYSB1bmEgdmFyaWFibGUuDQoNCiMjIFZpc3VhbGl6YWNpw7NuLg0KDQpFc3RvcyBncsOhZmljb3Mgbm9zIHNlcnZpcsOhbiBwYXJhIHJldmlzYXIgc2kgbGFzIGltcHV0YWNpb25lcyByZWFsaXphZGFzIHNvbiBtdXkgdmFyaWFibGVzIGVudHJlIGRpZmVyZW50ZXMgZGF0YXNldHMuDQoNCi0gRWwgcHJpbWVyIGdyw6FmaWNvIG11ZXN0cmEgbG9zIHZhbG9yZXMgcGVyZGlkb3MgcGFyYSBsYSB2YXJpYWJsZSBlbiBlbCBlamUgWTogKipHZXN0KiouDQoNCi0gU2UgbXVlc3RyYW4gNiBjdWFkcm9zIGNvcnJlc3BvbmRpZW50ZXMgYSANCiAgDQogICAgLSBMYSBkYXRhIG9yaWdpbmFsIHkgDQogICAgLSBMb3MgNSBkYXRhc2V0IGNvbnN0cnVpZG9zIGNvbiBsYSBpbXB1dGFjacOzbiBtdWx0aXBsZS4gDQogICAgDQotIEVuICoqcm9qbyoqIGVzdMOhbiBsYXMgb2JzZXJ2YWNpb25lcyBpbXB1dGFkYXMgcGFyYSBsYSB2YXJpYWJsZSBHZXN0ICh2YXJpYWJsZSBkZWwgZWplIFkpOyB5IGVuICoqYXp1bCoqLCB0b2RhcyBsYXMgZGVtw6FzIG9ic2VydmFjaW9uZXMuIA0KDQotIExvcyBwdW50b3MgYXp1bGVzIHNvbiBsb3MgZGF0b3Mgb2JzZXJ2YWRvcyB5IGFkZW3DoXMgaW1wdXRhY2lvbmVzIHJlYWxpemFkYXMgZW4gbGEgdmFyaWFibGUgKipOb25EKiogKHZhcmlhYmxlIGRlbCBlamUgWCkuIA0KDQpgYGB7cn0NCmxpYnJhcnkobGF0dGljZSkNCnh5cGxvdChpbXAxLCBHZXN0IH4gTm9uRCB8IC5pbXAsIHBjaCA9IDIwLCBjZXggPSAxLjQpDQpgYGANCg0KPGJyPg0KDQoNCi0gRW4gZWwgc2lndWllbnRlIGdyw6FmaWNvIG9ic2VydmFtb3MgZWwgbWlzbW8gdGlwbyBkZSBkaWFncmFtYS4gRXN0YSB2ZXogKiplbmZvY2FkbyoqIGVuIGVsIGFuw6FsaXNpcyBkZSBvdHJhIHZhcmlhYmxlOiAqKk5vbkQqKiAoTm90ZSBsYSBkaWZlcmVuY2lhIGVuIGxhIGZvcm11bGEgdXRpbGl6YWRhICpOb25EIH4gR2VzdCopLiANCg0KDQotIEEgcGFydGlyIGRlIGxvcyAqKnB1bnRvcyByb3NhZG9zKiogZW4gbG9zIGRpZmVyZW50ZXMgY3VhZHJvcywgc2Ugb2JzZXJ2YW4gbGFzIHZhcmlhY2lvbmVzIGVuIGxhcyBpbXB1dGFjaW9uZXMgcGFyYSAqKk5vbkQqKiBlbiBsb3MgZGlmZXJlbnRlcyBkYXRhc2V0cyBjb250cnXDrWRvcyBkdXJhbnRlIGxhIGltcHV0YWNpw7NuIG3Dumx0aXBsZS4gDQoNCg0KLSBOb3RlbW9zIGEgcGFydGlyIGRlIGVzdG9zIGdyw6FmaWNvcyBxdWUgc2UgZXN0w6FuIGltcHV0YW5kbyB2YWxvcmVzIGZ1ZXJhIGRlIGxhIG51YmUgZGUgcHVudG9zIGNyZWFkYSBlbnRyZSBlc3RhcyBkb3MgdmFyaWFibGVzLiBBdW5xdWUgcG9kcsOtYSBzdWNlZGVyLiANCg0KDQpgYGB7cn0NCnh5cGxvdChpbXAxLCBOb25EIH4gR2VzdCB8IC5pbXAsIHBjaCA9IDIwLCBjZXggPSAxLjQpDQpgYGANCg0KDQo8YnI+DQoNCkZpbmFsbWVudGUsIHBhcmEgb2JzZXJ2YXIgbG9zIGRhdG9zIGRlIGxhcyA1IGltcHV0YWNpb25lcyBlbiB1biBzb2xvIGdyw6FmaWNvLCB0ZW5lbW9zIGVsIHNpZ3VpZW50ZSBjw7NkaWdvLg0KDQoqKlBhcmEgbGEgdmFyaWFibGUgR2VzdCoqDQoNCmBgYHtyIG91dC53aWR0aD0nNzAlJ30NCnh5cGxvdChpbXAxLCBHZXN0IH4gTm9uRCwgcGNoID0gMTgpDQpgYGANCg0KKipQYXJhIGxhIHZhcmlhYmxlIE5vbkQqKg0KDQpgYGB7ciBvdXQud2lkdGg9JzcwJSd9DQp4eXBsb3QoaW1wMSwgTm9uRCB+IEdlc3QsIHBjaCA9IDE4KQ0KYGBgDQoNCjxicj4NCg0KDQpBZGVtYXMsIHNpIHF1ZXJlbW9zIGluY2x1aXIgdW5hIHRlcmNlcmEgdmFyaWFibGUgYWwgYW7DoWxpc2lzIHBvZGVtb3Mgb2JzZXJ2YXJsYSBjYW1iaWFuZG8gbGEgZm9ybXVsYSBjb21vIGVsIHNpZ3VpZW50ZSBjw7NkaWdvLg0KDQpgYGB7ciBvdXQud2lkdGg9JzkwJSd9DQp4eXBsb3QoaW1wMSwgR2VzdCB+IE5vbkQgKyBTcGFuICwgcGNoID0gMTgpDQpgYGANCg0KLSBWZXJlbW9zIGxhIHJlbGFjacOzbiBkZSBsYSB2YXJpYWJsZSBHZXN0IGNvbiBTcGFuIGFkZW3DoXMgZGUgY29uIE5vbkQuDQoNCi0gTG9zICoqcHVudG9zIHJvc2Fkb3MqKiBzb24gbG9zIHZhbG9yZXMgaW1wdXRhZG9zLg0KDQoNCjxicj4NCg0KDQpGaW5hbG1lbnRlLCB1dGlsaXphcmVtb3MgdW4gZ3LDoWZpY28gcGFyYSBsYSBkZW5zaWRhZCBkZSBsYXMgb2JzZXJ2YWNpb25lcyBpbXB1dGFkYXMgZW4gY2FkYSBkYXRhc2V0Lg0KDQotIEVzdG8gbm9zIG1vc3RyYXLDoSBzaSBsYXMgZGlmZXJlbnRlcyBpbXB1dGFjaW9uZXMgZXN0w6FuIGNvbmNlbnRyYWRhcyBlbiBsb3MgbWlzbW9zIHZhbG9yZXMgbyBzaSBjYW1iaWFuIGVudHJlIGRpZmVyZW50ZXMgZGF0YXNldHMuIA0KDQotIENhZGEgZGVuc2lkYWQgZXN0w6EgcmVwcmVzZW50YWRhIGVuIGzDrW5lYXMgZGUgY29sb3Igcm9zYWRvIHkgcmVwcmVzZW50YW4gbGEgZGVuc2lkYWQgcGFyYSBsYXMgaW1wdXRhY2lvbmVzIGVuIHVubyBkZSBsb3MgNSBkYXRhc2V0cyBkZSBsYSBpbXB1dGFjacOzbiBtw7psdGlwbGUuDQoNCi0gTGEgZGVuc2lkYWQgZW4gY29sb3IgY2VsZXN0ZSByZXByZXNlbnRhIGxhIGRlbnNpZGFkIGRlIGxvcyB2YWxvcmVzIG9ic2VydmFkb3MuDQoNCg0KYGBge3J9DQpkZW5zaXR5cGxvdChpbXAxKQ0KYGBgDQoNCi0gRXN0ZSBncsOhZmljbyBjb21wYXJhIGxhICoqZGVuc2lkYWQgZGUgbG9zIGRhdG9zIG9ic2VydmFkb3MgdmVyc3VzIGxhIGRlbnNpZGFkIGRlIGxvcyBkYXRvcyBpbXB1dGFkb3MqKi4gU2UgZXNwZXJhIHF1ZSBsYXMgbMOtbmVhcyBzZWFuIHNpbWlsYXJlcyBwZXJvIG5vIGlkw6ludGljb3MuDQoNCi0gRW5jb250cmFyIGRpZmVyZW5jaWFzIGVudHJlIGxhcyBkaWZlcmVudGVzIGltcHV0YWNpb25lcyBpbmRpY2EgcXVlIGxhcyAqKmltcHV0YWNpb25lcyB2YXLDrWFuKiogZW50cmUgZGlmZXJlbnRlcyBkYXRhc2V0cy4NCg0KDQo8YnI+DQoNCioqU3RyZWVwbG90KioNCg0KLSBFbCDDumx0aW1vIGdyw6FmaWNvIGxsYW1hZG8gKipzdHJpcHBsb3QqKiBtdWVzdHJhIGxhIGRpc3RyaWJ1Y2nDs24gZGUgY2FkYSB2YXJpYWJsZSB5IHN1cyB2YWxvcmVzIGltcHV0YWRvcyBlbiBsb3MgbXVsdGlwbGVzIGRhdGFzZXRzLiANCg0KLSBFcyAqKm90cmEgZm9ybWEqKiBkZSB2ZXIgbGEgKipkaXN0cmlidWNpw7NuIGRlIGxvcyBpbXB1dGFkb3MqKiBlbiBsYXMgZGlmZXJlbnRlcyBtdWVzdHJhcy4gDQoNCmBgYHtyfQ0Kc3RyaXBwbG90KGltcDEsIHBjaCA9IDIwKQ0KYGBgDQoNCg0KIyBNb2RlbGFtaWVudG8gIA0KDQoNCiMjIENhc29zIGNvbXBsZXRvcw0KDQpFbCBjYXNvIG3DoXMgc2ltcGxlIHkgcsOhcGlkbyBzZXLDoSB1dGlsaXphbmRvIHNvbG8gbG9zIGRhdG9zIGNvbXBsZXRvcy4NCkVuIGVzdGUgY2Fzbywgb21pdGltb3MgbGFzIGZpbGEgY29uIHZhbG9yZXMgcGVyZGlkb3MgeSBjb25zdHJ1aW1vcyBudWVzdHJvIG1vZGVsby4NCg0KYGBge3J9DQphanVzdGVfY2MgPC0gbG0oQm9keVdndCB+IFNsZWVwICsgQnJhaW5XZ3QsIA0KICAgICAgICAgICAgICAgIGRhdGEgPSBuYS5vbWl0KHNsZWVwKSkNCnN1bW1hcnkoYWp1c3RlX2NjKQ0KYGBgDQoNCiMjIEltcHV0YWNpw7NuIHNpbXBsZS4NCg0KRGVzcHVlcyBkZSB1bmEgaW1wdXRhY2nDs24gc2ltcGxlLCBlbCByZXN1bHRhZG8gZXMgdW4gZGF0YXNldCBjb24gZWwgbWlzbW8gbsO6bWVybyBkZSBmaWxhcyB5IGNvbHVtbmEgcGVybyBjb24gdG9kb3MgbG9zIGRhdG9zIGxsZW5vcyBjb24gYWxnw7puIHZhbG9yIGltcHV0YWRvLiANCkFsIHJlYWxpemFyIGVsIG1vZGVsYW1pZW50bywgc2UgdXRpbGl6YW4gbG9zIHJlc3VsdGFkb3MgZGUgbGEgaW1wdXRhY2nDs24gcmVhbGl6YWRhIHBhcmEgZW50cmVuYXIgZWwgbW9kZWxvLiANCg0KYGBge3J9DQphanVzdGVfY2MgPC0gbG0oQm9keVdndCB+IFNsZWVwICsgQnJhaW5XZ3QsIGRhdGEgPSBpbXBfcmVnKQ0Kc3VtbWFyeShhanVzdGVfY2MpDQpgYGANCg0KLSBOb3RhOiBTaSBkZXNlYW1vcyB1dGlsaXphciBsYSBpbXB1dGFjacOzbiBwYXJhIG51ZXN0cmEgZGF0YSBkZSB2YWxpZGFjacOzbiwgdGVuZW1vcyBxdWUgYXBsaWNhciBsYSBtZXRvZG9sb2fDrWEgeSBtb2RlbG9zIGNyZWFkb3MgcGFyYSBsYSBpbXB1dGFjacOzbiBhIHBhcnRpciBkZSBsYSBkYXRhIGRlIGVudHJlbmFtaWVudG8uIA0KDQotIE5vIGRlYmVuIHJlYWxpemFyc2UgbW9kZWxvcyBwYXJhIGltcHV0YWNpb25lcyBjb24gbG9zIGRhdG9zIGRlIHZhbGlkYWNpw7NuIHNpbm8gcG9kcsOtYW1vcyBzZXNnYXIgbGEgZXZhbHVhY2nDs24gZGVsIG1vZGVsbyBlbiBsYSBkYXRhIGRlIGVudHJlbmFtaWVudG8uIA0KDQoNCiMjIEltcHV0YWNpw7NuIG3Dumx0aXBsZS4NCg0KDQotIEx1ZWdvIGRlIHVuYSBpbXB1dGFjacOzbiBtdWx0aXBsZSwgZWwgZW50cmVuYW1pZW50byBkZWwgbW9kZWxvIGRlYmUgcmVhbGl6YXJzZSBlbiAqKmNhZGEgdW5vKiogZGUgbG9zIG3Dumx0aXBsZXMgZGF0YXNldHMgaW1wdXRhZG9zLiANCg0KLSBNdWx0aXBsZXMgbW9kZWxvcyBzZXLDoW4gZW50cmVuYWRvcyBhIHBhcnRpciBkZSBsb3MgZGF0YXNldHMuIEVzIG51ZXN0cmEgdGFyZWEgZXZhbHVhciBsYSAqKnZhcmlhYmlsaWRhZCBkZSBsb3MgbW9kZWxvcyoqIGVuIGxvcyBkaWZlcmVudGVzIGNvbmp1bnRvcyBkZSBkYXRvcyB5IGFuYWxpemFyIGVsIHBlcmZvcm1hbmNlIGNvbmp1bnRvIGRlIHRvZG9zIGVsbG9zLiAoQ3VhbmRvIGxvcyBtb2RlbG9zIHNpcnZlbiBwYXJhIGVudGVuZGVyIGVsIHByb2JsZW1hLCBlcyBtZWpvciBidXNjYXIgY2FyYWN0ZXLDrXN0aWNhcyBlc3RhYmxlcyBlbnRyZSBkaWZlcmVudGVzIGltcHV0YWNpb25lcy4pDQoNCi0gRWplbXBsbyBlbiBSOiB1c28gZGUgcmVncmVzacOzbiBsaW5lYWwgcGFyYSBsb3MgbcO6bHRpcGxlcyBkYXRhc2V0cyBpbXB1dGFkb3MuIEVsIHJlc3VsdGFkb3MgZGVsIG1vZGVsbyBlcyBlbCBzaWd1aWVudGU6IA0KDQpgYGB7cn0NCmFqdXN0ZV9pbXAgPC0gd2l0aChpbXAxLCBsbSggQm9keVdndCB+IFNsZWVwICsgQnJhaW5XZ3QpKQ0Kc3VtbWFyeShhanVzdGVfaW1wKQ0KYGBgDQoNCk5vdGUgcXVlIGVzIHBvc2libGUgdXRpbGl6YXIgY3VhbHF1aWVyIG90cmEgZnVuY2nDs24gZW4gbHVnYXIgZGUgYGxtKClgLg0KRWwgcmVzdWx0YWRvIHNlcsOhIHVuYSBsaXN0YSBkZSBtb2RlbG9zIHBhcmEgY2FkYSBkYXRhc2V0Lg0KDQpQZXJmb3JtYW5jZSBkZWwgbW9kZWxvIGVuIGxhcyA1IGRpZmVyZW50ZXMgaW1wdXRhY2lvbmVzIGNvbiBsYSBsaWJyZXLDrWEgKnBlcmZvcm1hbmNlKi4gIA0KDQpgYGB7cn0NCmxpYnJhcnkocGVyZm9ybWFuY2UpDQpsYXBwbHkoYWp1c3RlX2ltcCRhbmFseXNlcywgcGVyZm9ybWFuY2UpDQpgYGANCg0KDQoNCkZpbmFsbWVudGUsIGVsIGFuw6FsaXNpcyBkZSByZXN1bHRhZG9zIHNlIHJlYWxpemFyw6EgY29tYmluYW5kbyBsb3MgcmVzdWx0YWRvcyBkZSBjYWRhIG1vZGVsb3MuIA0KRW4gbnVlc3RybyBjYXNvLCBzZSBqdW50YW4gbG9zIGNvZWZpY2llbnRlcyB5IGVycm9yZXMgZXN0w6FuZGFyZXMgZGUgbG9zIDUgbW9kZWxvcyBkZSByZWdyZXNpw7NuLg0KDQoqKkNvbWJpbmFjacOzbiBkZSBhanVzdGVzOiAqKg0KDQpgYGB7cn0NCmFqdXN0ZV9jb21iIDwtIHBvb2woYWp1c3RlX2ltcCkNCnN1bW1hcnkoYWp1c3RlX2NvbWIpDQpgYGANCg0KDQoqKiBSLUN1YWRyYWRvIGFqdXN0YWRvIGNvbWJpbmFkbzogKioNCg0KYGBge3J9DQpwb29sLnIuc3F1YXJlZChhanVzdGVfaW1wLCBhZGp1c3RlZD1UUlVFKQ0KYGBgDQoNCg0KDQpFc3RvcyByZXN1bHRhZG9zIGRlZmluZW4gZWwgbW9kZWxvIGZpbmFsIGEgZXZhbHVhciBjb24gbGEgZGF0YSBkZSB2YWxpZGFjacOzbi4gDQoNCjwhLS0ga25pdHI6OnB1cmwoKSAtLT4NCg0KDQoNCiMgRWplcmNpY2lvDQoNCi0gW0Rlc2NyaXBjacOzbiBkZWwgZWplcmNpY2lvXShmaWxlcy9FamVyY2ljaW9JbXB1dGFjaW9uMS5wZGYpDQoNCi0gW0RhdG9zIEFkdmVydGlzaW5nLmNzdl0oZmlsZXMvQWR2ZXJ0aXNpbmcuY3N2KQ0KDQojIEFuZXhvcw0KDQotIFtTbGlkZXMgSW1wdXRhY2nDs25dKGZpbGVzLzNfVHJhdGFtaWVudG8gZGUgZGF0b3MgcGVyZGlkb3MucGRmKQ0KDQotIFtDw7NkaWdvcyB1dGlsaXphZG9zIGVuIGVzdGUgbWFudWFsIGVuIFJdKGZpbGVzL0d1aWFSSW1wdXRhY2lvbl8yMDIxMDkwNC5SKQ0KDQpgYGB7ciByZWYubGFiZWw9a25pdHI6OmFsbF9sYWJlbHMoKSwgZWNobz1UUlVFLCBldmFsPUZBTFNFLCBjbGFzcy5zb3VyY2UgPSAiZm9sZC1oaWRlIn0gDQpgYGAgDQoNCi0gW0Rlc2NyaXBjacOzbiBkZSBjb2x1bW5hcyBkZWwgZGF0YXNldCBfc2xlZXBfXShmaWxlcy9zbGVlcF9kYXRhX25hbWVzLnBkZikNCg0KLSBbQXJ0w61jdWxvIHByZXNlbnRhY2nDs24gZGUgTUlDRV0oaHR0cHM6Ly93d3cucmVzZWFyY2hnYXRlLm5ldC9wdWJsaWNhdGlvbi80NDIwMzQxOF9NSUNFX011bHRpdmFyaWF0ZV9JbXB1dGF0aW9uX2J5X0NoYWluZWRfRXF1YXRpb25zX2luX1IpDQo=</div>
   
           </section>
  </div>
  </div>
  </div>
  </div>
      
      

  <script>
    $(document).ready(function () {

		// add bootstrap table styles to pandoc tables
	$('tr.header').parent('thead').parent('table').addClass('table table-condensed');
		
 		
	    });
  </script>



    <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
	var script = document.createElement("script");
	script.type = "text/javascript";
	script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
	document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>
  
</body>
</html>
